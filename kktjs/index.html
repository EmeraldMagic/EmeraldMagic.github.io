<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
  <head>
    <link rel="canonical" href="https://sumire.work/kktjs/">
    <meta charset="utf-8">
    <title>kktjs</title>
    <link rel="stylesheet" href="css/emojipicker.css">
    <link rel="stylesheet" href="css/style.css?v=1128">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/addtohomescreen.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta content="#000" name="theme-color">
    <!-- OGP -->
    <meta property="og:title" content="kktjs" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sumire.work/kktjs/" />
    <meta property="og:image" content="https://sumire.work/kktjs/img/touch/apple-touch-icon.png" />
    <meta property="og:site_name"  content="sumire.work/kktjs" />
    <meta property="og:description" content="キラキラッターをもっと素敵にするWebクライアント" />
    <!-- iOS Safari FullScreen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- iOS Safari No CallLink -->
    <meta name="format-detection" content="telephone=no">
    <!-- Icons -->
    <link rel="icon" href="/kktjs/img/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="shortcut icon" href="/kktjs/img/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="apple-touch-icon" sizes="152x152" href="/kktjs/img/touch/apple-touch-icon.png">
    <!-- PWA -->
    <link rel="manifest" href="js/manifest.json">
  </head>
  <body>
<!--
kktCSS V10.0 Copyright (c) 2017 Salil Gupta Released under the MIT License. (https://github.com/MasterDalK/kktCSS/blob/master/LICENSE.md)
kktjs v1.2 Copyright (c) 2017 Sumire (Not yet been Permissive License.)
-->
    <script type="text/x-template" id="modal-image">
      <transition name="modal">
        <div class="modal-mask">

          <slot name="header"></slot>

        </div>
      </transition>
    </script>

    <script type="text/x-template" id="modal-input">
      <transition name="input">
        <div class="modal-mask">

          <div class="flex">
            <div class="column bgcolor-wh">
              <slot name="header"></slot>
            </div>
          </div>

        </div>
      </transition>
    </script>

    <script type="text/x-template" id="modal-confirm">
      <transition name="confirm">
        <div class="modal-mask">

          <div class="flex center">
            <div class="column bgcolor-wh">
              <slot name="header"></slot>
            </div>
          </div>

        </div>
      </transition>
    </script>

    <script type="text/x-template" id="modal-info">
      <transition name="info">

          <div class="flex toast-list">
            <div class="column info">
              <slot name="header"></slot>
            </div>
          </div>

      </transition>
    </script>

    <div id="app" class="color" :class="[optThemeTops, optThemeBottoms, optMediaHeight, optKatsuTrim]" onDragover="importdragover(event)" onDrop="importdrop(event)" onDragenter="importdragenter(event)">

      <svg width="0" height="0" class="invisible" xmlns="http://www.w3.org/2000/svg">
        <g id="cb" :class="[optThemeTops, optThemeBottoms, optMediaHeight, optKatsuTrim]">
          <line class="cbl" y2="12.412" x2="10.03575" y1="0.833" x1="10.03575" stroke-miterlimit="10" stroke-width="2"/>
          <path class="cbp" d="m9.76,1c0,0 -4.8235,0.92675 -8,5.833c5.42675,1 8,5.334 8,5.334" stroke-miterlimit="10" stroke-linecap="round" stroke-width="2"/>
        </g>
      </svg>

      <div v-if="startApp" class="modal-front bgcolor-disable front">

      </div>

      <div v-if="'web' == app_mode" class="app-header flex">
        <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%">
          <defs>
            <pattern id="pttops" patternUnits="userSpaceOnUse" height="24" width="18">
              <rect class="pkl" height="24" width="18" y="0" x="0"/>
              <path class="pkd" d="m0 12 9-12 9 12-9 12z"/>
            </pattern>
          </defs>
          <rect width="100%" height="100%" style="fill: url(#pttops)"/>
        </svg>
      </div>

      <div v-if="'web' == app_mode" class="app-header control flex">
        <div class="logo-wrapper color-wh">
          <div v-if="ua != 'pc'" class="svgkkt logo" v-on:click="popLink"><small>{{app_ver_top}}</small></div>
          <div v-else class="svgkkt logo" v-on:click="toggleLinkLock"><small>{{app_ver_top}}</small></div>
        </div>
        <div class="icon-wrapper flex">
          <i class="fa fa-fw fa-home" v-on:click="runHome"></i>
          <i class="fa fa-fw fa-users" v-on:click="runLocal"></i>
          <!-- <i class="fa fa-fw fa-globe color-disable"></i> -->
          <i class="fa fa-fw fa-bell" v-on:click="runBell"></i>
          <!-- <i class="fa fa-fw fa-at color-disable"></i> -->
          <i v-if="showacct && acct_type == 'fav'" class="fa fa-fw fa-cog" v-on:click="runUser('fav')"></i>
          <i v-else class="fa fa-fw fa-star" v-on:click="runUser('fav')"></i>
          <i class="fa fa-fw fa-list" v-on:click="runMulti('top')"></i>
          <i class="fa fa-fw fa-search" v-on:click="popSearch"></i>
          <i class="fa fa-fw fa-pencil-square-o" v-on:click="popForm"></i>
        </div>
        <div class="margin"></div>
      </div>

      <div v-if="null == at" class="flex center">
        <div class="modal-mask">
          <div class="modal-wrapper">
            <div class="flex login-container bgsvg-pk">

              <div class="column text center color-wh login">
                <div>
                  <h2>{{app_name}} v{{app_ver}}</h2>
                  Custom Themes for <a href="https://kirakiratter.com/">kirakiratter.com</a>
                </div>
                <div class="flex login_opt">
                  <span v-on:click="autologin = true" class="tl-link full color-wh" :class="[autologin ? 'bgcolor-gr' : 'bgcolor']">通常認証</span>
                  <span v-on:click="autologin = false" class="tl-link full color-wh" :class="[!autologin ? 'bgcolor-gr' : 'bgcolor']">コード認証</span>
                </div>
                <div v-if="autologin">
                  <h3>- アプリ認証 -</h3>
                  kirakiratter.comにログインして、<br>
                  アプリからのアクセスを許可してね。<br>
                  <button v-on:click="runAuth" class="color-wh bgcolor-gr">App Authorize</button>
                </div>
                <div v-else>
                  <h3>- コードでアプリ認証 -</h3>
                  kirakiratter.comにログインして、<br>
                  アプリの認証コードを取得してね。<br>
                  <button v-on:click="runAuth" class="color-wh bgcolor-gr">App Authorize</button><br>
                  コードを張り付けてボタンを押してね。<br>　
                  <span class="flex">
                    <input type="text" v-model="code" class="border-lite"><br>
                    <span v-on:click="fetchToken" class="button bgcolor-gr color-wh border-lite">Start</span>
                  </span>
                </div>
                <small>{{result_text}}</small>
              </div>

            </div>
          </div>
        </div>
        <div class="modal-bg"></div>
      </div>

      <modal v-if="showModal">
        <div class="modalbutton flex center" v-on:click="showModal = false; modal = ''" slot="header">
          <img v-if="'image' == modal.type" :src="modal.url" alt="" class="fullimage">
          <video v-else :src="modal.url" class="fullimage" v-play="true" autoplay loop></video>
        </div>
      </modal>

      <emojipicker v-show="showEmojiPicker">
        <span slot="header">
          <div id="container" class="form-option full">
            <div class="wrapper full">
              <h3>Emoji Picker</h3>
              <textarea type="text" id="katsu" placeholder="What is on your mind?" class="content-input border-lite" onkeyup="autogrow(this)"></textarea>
              <div class="flex center">
                <span class="full">
                  <i class="fa fa-fw fa-smile-o full border-lite"></i>
                </span>
              </div>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showEmojiPicker = false;">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showEmojiPicker = false; closeEmoji()">OK</span>
              </div>
            </div>

          </div>
        </span>
      </emojipicker>

      <confirm v-if="showConfirm">
        <div slot="header">

          <div class="status flex" v-if="['delete','report','fav','unfav','reblog','unreblog','pin','unpin','bookmark'].indexOf(issue.confirmtype) != -1">
            <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
            <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
            <div class="content border">
              <div class="status-name flex start">
                <div class="hidden full">
                  <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                  <a v-else class="color-pk">{{issue.account.username}}</a>
                  <small class="color-gr">‭@{{issue.account.acct}}</small>
                </div>
                <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
              </div>
              <div class="status__content">
                <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                <div v-if="0 != issue.spoiler_text.length">
                  <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                  <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                  <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                </div>
                <div v-else>
                  <span v-html="formatContent(issue.content, issue.emojis)"></span>
                </div>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                <a v-for="media in issue.media_attachments">
                  <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                  <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                  <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                </a>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
              </div>
              <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                <h4 v-if="issue.sensitive">Sensitive contents</h4>
                <h4 v-else>Media contents</h4>
                <small>Click to view</small>
              </div>
              <div class="action-bar flex end wrap">
                <div class="hidden">
                  <i class="fa fa-fw fa-paperclip color-disable"></i>
                  <small class="time">{{formatDate(issue.created_at)}}</small>
                  <small>(id:{{issue.id}})</small>
                </div>
              </div>
            </div>
          </div>
          <div v-else-if="'katsu' == issue.confirmtype" class="status flex">
            <img :src="checkAvatar(user.avatar_static)" class="avatar border" v-on:click="runAcct(user.id)">
            <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
            <div class="content border">
              <div class="status-name flex start">
                <div class="hidden full">
                  <a v-if="0 != user.display_name.length" class="color-pk" v-html="formatEmoji(user.display_name, user.emojis)"></a>
                  <a v-else class="color-pk">{{user.username}}</a>
                  <small class="color-gr">‭@{{user.acct}}</small>
                </div>
                <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
              </div>
              <div class="status__content">
                <span v-html="formatContentSP(issue.spoiler_text, issue.emojis)"></span>
                <div v-if="0 != issue.spoiler_text.length">
                  <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                  <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                  <span v-if="issue.content_opened" v-html="formatContentP(issue.content, issue.emojis)"></span>
                </div>
                <div v-else>
                  <span v-html="formatContentP(issue.content, issue.emojis)"></span>
                </div>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                <a v-for="media in issue.media_attachments">
                  <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                  <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                  <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                </a>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
              </div>
              <div v-if="(( issue.sensitive && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                <h4 v-if="issue.sensitive">Sensitive contents</h4>
                <h4 v-else>Media contents</h4>
                <small>Click to view</small>
              </div>
              <div class="action-bar flex end">
                <div>
                  <i class="fa fa-fw fa-paperclip color-disable"></i>
                  <!-- <small class="time">{{formatDate(issue.created_at)}}</small> -->
                </div>
                <i class="fa fa-fw fa-reply color-disable"></i>
                <i class="fa fa-fw fa-retweet color-disable"></i>
                <i class="fa fa-fw fa-star color-disable"></i>
                <i class="fa fa-fw fa-comment-o color-disable"></i>
                <i class="fa fa-fw fa-user-circle-o color-disable"></i>
              </div>
            </div>
          </div>
          <div v-else class="status flex">
            <img :src="checkAvatar(issue.avatar)" class="avatar border">
            <div class="content">
              <div class="status-name flex start">
                <div class="hidden full">
                  <a v-if="0 != issue.display_name.length" class="color-pk" v-html="formatEmoji(issue.display_name, issue.emojis)"></a>
                  <a v-else class="color-pk">{{issue.username}}</a>
                  <small class="color-gr">‭@{{issue.acct}}</small>
                </div>
                <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span>
                <small v-if="issue.bot" class="status-info">[Bot]</small>
              </div>
              <span>{{issue.statuses_count}} </span>Katsu!
              <div>
                <span>{{issue.following_count}} </span>Follow /
                <span>{{issue.followers_count}} </span>Follower
              </div>
            </div>
          </div>

          <div class="text center confirm-wrapper">
            <div v-if="'katsu' == issue.confirmtype">
              <h3>カツ!しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span v-if="checkKatsu()" v-on:click="showConfirm = false; actKatsu(katsu, true)" class="color-wh bgcolor-gr button full">KATSU!</span>
                <span v-else class="color-wh bgcolor-disable button full">KATSU!</span>
              </div>
            </div>
            <div v-else-if="'delete' == issue.confirmtype">
              <h3>カツ!を削除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actDelete(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'report' == issue.confirmtype">
              <h3>カツ!を通報しますか？</h3>
              <small>(どういった点で不適切な内容ですか？)</small><br>
              <input v-focus type="text" id="report_text" class="report_text underline-dash"><br>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="actReport(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'fav' == issue.confirmtype">
              <h3>お気に入り登録しますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actFav(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unfav' == issue.confirmtype">
              <h3>お気に入り登録を解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnFav(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'reblog' == issue.confirmtype">
              <h3>ブーストしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actReblog(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unreblog' == issue.confirmtype">
              <h3>ブーストを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnReblog(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'follow' == issue.confirmtype">
              <h3>フォローしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actFollow(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unfollow' == issue.confirmtype">
              <h3>フォローを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnFollow(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'mute' == issue.confirmtype">
              <h3>ミュートしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actMute(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unmute' == issue.confirmtype">
              <h3>ミュートを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnMute(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'block' == issue.confirmtype">
              <h3>ブロックしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actBlock(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unblock' == issue.confirmtype">
              <h3>ブロックを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnBlock(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'pin' == issue.confirmtype">
              <h3>カツ!を固定しますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actPin(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unpin' == issue.confirmtype">
              <h3>カツ!の固定を解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnPin(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'list' == issue.confirmtype">
              <h3>アカウントをリストに追加しますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actList(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unlist' == issue.confirmtype">
              <h3>アカウントをリストから外しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnList(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'bookmark' == issue.confirmtype">
              <h3>しおりをはさみますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actBookmark(issue, true);">OK</span>
              </div>
            </div>

          </div>

        </div>
      </confirm>

      <!-- DEBUG -->
      <div :class="{ 'extra': 'native' == app_mode }" class="flex column-list">
        <div v-if="showDebug" class="column debug">
          <div class="column-header"><i class="fa fa-fw fa-cog"></i>App Status/{{app_mode}}-{{ua}}</div>
          <div class="scrollable">
            <h3>Columns</h3>
            <div >
              Home({{home_type}})<input type="checkbox" id="showhometl" v-model="showhometl">
              Local({{local_type}})<input type="checkbox" id="showlocaltl" v-model="showlocaltl">
              Multl({{multi_type}})<input type="checkbox" id="showmultitl" v-model="showmultitl">
            </div>
            <div>
              Notif<input type="checkbox" id="shownotif" v-model="shownotif">
              Detail<input type="checkbox" id="showdetail" v-model="showdetail">
              Acct({{acct_type}})<input type="checkbox" id="showacct" v-model="showacct">
              Debug<input type="checkbox" id="showDubug" v-model="showDebug">
            </div>
            <div>
              Setting<input type="checkbox" id="showSetting" v-model="showSetting">
              Search<input type="checkbox" id="showSearch" v-model="showSearch">
              Stream<input type="checkbox" id="showStream" v-model="showStream">
              Form<input type="checkbox" id="showForm" v-model="showForm">
            </div>
            <div>
              (via)<input type="checkbox" id="showDubugLocal" v-model="showDebugLocal">
              <!-- (from)<input type="checkbox" id="showDubugGlobal" v-model="showDebugGlobal"> -->
            </div>
<!--             <h3>Options</h3>
            <div>
              Mobile<input type="checkbox" id="optMode" v-model="optMode" disabled>
              AllNSFW(TL) <input type="checkbox" id="optAllNsfw" v-model="optAllNsfw">
            </div> -->
            <h3>Other Debug</h3>
            <button v-on:click="playSound('sound')">default boop</button>
            <button v-on:click="playSound('soundex')">excelent boop</button>
            <button v-on:click="result_text = 0 != notifs[0].account.display_name.length ? notifs[0].account.display_name : notifs[0].account.acct; result_text = result_text + ' ' + notifs[0].type + ' '; result_text = notifs[0].type == 'follow' ? result_text + 'you' : result_text + 'your katsu!'; result_type = 'notif';">Info</button><br>
            <!--<button disabled class="js-push-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">Enable Push Messaging</button> -->
            <!-- <input type="text" v-model="repository" readonly>
            <button v-on:click="reopenWsHome">Home Stream ReConn</button>
            <button v-on:click="reopenWsLocal">Local Stream ReConn</button>
            <input type="text" v-model="user.id" readonly>
            user.id<br>
            <!-- <input type="text" v-model="searchText"> -->
            <!-- <input type="text" v-model="notif_id"> -->
            <input type="text" v-model="detail_targetid">
            <button v-on:click="runDetail(detail_targetid)">Load Katsu!</button>
            detail_targetid<br>
            <input type="text" v-model="acct_targetid">
            <button v-on:click="runAcct(acct_targetid)">Load Account</button>
            acct_targetid<br>
            <input type="text" v-model="search_user">
            <button v-on:click="searchAcctObj">Load Account</button>
            search_user<br>
            <input type="text" onKeyup="inputSearch(this)">
            <button v-on:click="runMulti('Hashtag', search_text);reopenWsMulti('Hashtag', search_text);">Load HashTL</button>
            stream_list.id<br>
            <input type="text" v-model="stream_list.id">
            <button v-on:click="popStream(); return; fetchListAcct();">Load List</button>
            search_tag<br>
            <input type="text" v-model="home_id">
            katsu_id(home_min)<br>
            <input type="text" v-model="local_id">
            katsu_id(local_min)<br>
            <input type="text" v-model="notif_id">
            katsu_id(notif_min)<br>
            <input type="text" v-model="acct_id">
            katsu_id(acct_min)<br>
            <input type="text" v-model="local_id_bookmark">
            katsu_id(bookmark)<br>
            <input type="text" v-model="notif_id_bookmark">
            katsu_id(bm_Notif)<br>
            home_unread: {{home_unread}}/ {{homes.length}},
            <!-- home_posy: {{home_posy}}/{{home_posy_b}}<br> -->
            local_unread: {{local_unread}}/ {{locals.length}},
            <!-- local_posy: {{local_posy}}/{{local_posy_b}}<br> -->
            notif_unread: {{notif_unread}}/ {{notifs.length}},
            <!-- notif_posy: {{notif_posy}}/{{notif_posy_b}}<br> -->
            multi_unread: {{multi_unread}}/ {{multis.length}},
            <!-- multi_posy: {{multi_posy}}/{{multi_posy_b}}<br> -->
          </div>
        </div>
        <!-- C-Links -->
        <div v-if="showLinkLock" class="column mini">
          <div class="column-header"><i class="fa fa-fw fa-comment"></i>TimeLine</div>
          <div class="scrollable">
            <div class="link-list">

              <div class="status flex wrap">
                <span v-on:click="runHome" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-home"></i>Home</div>
                </span>
                <span v-if="fetch_lock.localws || fetch_lock.local" class="list-link border-lite full color bgcolor-disable flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-users"></i>Local</div>
                </span>
                <span v-else v-on:click="runLocal();reopenWsLocal('Local');local_opt = false;" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-users"></i>Local</div>
                </span>
                <span v-if="fetch_lock.localws || fetch_lock.local" class="list-link border-lite full color bgcolor-disable flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Global</div>
                </span>
                <span v-else v-on:click="runLocal();reopenWsLocal('Global');local_opt = false;" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Global</div>
                </span>
                <span v-on:click="toggleStreamOpened('lists')" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-list"></i>Lists</div>
                </span>
                <div v-if="stream_opened == 'lists'" class="full">
                  <span v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link slim color-wh bgcolor-disable flex end">
                    <div class="hidden full"><small>Loading...</small></div>
                  </span>
                  <span v-else v-for="issue in stream_lists" v-on:click="runMulti('List', issue.id);reopenWsMulti('List', issue);multi_opt = false;" class="list-link slim border-lite bgcolor-wh flex end">
                    <div class="hidden full"><small>{{issue.title}}</small></div>
                  </span>
                  <span v-on:click="popStream" class="list-link slim border-lite bgcolor-wh flex end">
                    <div class="hidden full"><small><i class="fa fa-fw fa-pencil"></i>Open Streams</small></div>
                  </span>
                </div>
                <span v-on:click="toggleStreamOpened('tags')" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-hashtag"></i>Hashtags</div>
                </span>
                <div v-if="stream_opened == 'tags'" class="full">
                  <span v-if="fetch_lock.multiws || fetch_lock.multi" class="list-link slim color-wh bgcolor-disable flex end">
                    <div class="hidden full"><small>Loading...</small></div>
                  </span>
                  <span v-else v-for="issue in stream_hashtags" v-on:click="runMulti('Hashtag', issue);reopenWsMulti('Hashtag', issue);multi_opt = false;" class="list-link slim border-lite bgcolor-wh flex end">
                    <div class="hidden full"><small>#{{issue}}</small></div>
                  </span>
                  <span v-on:click="popStream" class="list-link slim border-lite  bgcolor-wh flex end">
                    <div class="hidden full"><small><i class="fa fa-fw fa-pencil"></i>Open Streams</small></div>
                  </span>
                </div>
                <span v-on:click="toggleStreamOpened('channels_d')" class="list-link border-lite full color bgcolor-disable flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-gamepad"></i>Discord Channels</div>
                  <small>未</small>
                </span>
                <span v-if="stream_opened == 'channels'" v-for="issue in stream_channels" v-on:click="return;runMulti('Discord', issue);reopenWsMulti('Discord', issue);multi_opt = false;" class="list-link slim border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><small>{{issue}}</small></div>
                </span>
<!--                 <span v-on:click="runRefresh();" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Refresh</div>
                </span> -->
              </div>

<!--               <div class="link-header"><i class="fa fa-fw fa-cog"></i>Setting</div>
              <div class="status flex wrap"> -->
<!--                 <span v-on:click="popSetting" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-cog"></i>AppSetting</div>
                </span> -->
<!--                 <span v-on:click="openProfile" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-external-link"></i>Open Profile</div>
                </span> -->
<!--                 <span v-on:click="runLogout" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-sign-out"></i>Logout</div>
                </span> -->
              <!-- </div> -->

            </div>
            <div class="user-list">
              <div class="link-header"><i class="fa fa-fw fa-search"></i>Search</div>
              <div class="status flex wrap">
<!--                 <span v-if="!showLinkSearch" v-on:click="toggleLinkSearch" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-search"></i>Search</div>
                </span> -->
                <span class="search-container full flex end">
                  <input type="text" v-restore-search class="underline-dash" @keyup.enter="searchAll();toggleLinkSearch();" onKeyup="inputSearch(this)"><br>
                  <span v-on:click="searchAll();toggleLinkSearch();" class="bgcolor-wh border-lite"><i class="fa fa-fw fa-search"></i></span>
                </span>
              </div>
              <div v-if="null != user.id" class="status flex">
                <img :src="checkAvatar(user.avatar_static)" class="avatar border short" v-on:click="runUser('katsu')">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border short">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <small class="color-gr">‭@{{user.acct}}</small>
                    </div>
                    <span v-if="user.locked"><i class="fa fa-fw fa-lock"></i></span>
                    <small v-if="user.bot" class="status-info">[Bot]</small>
                  </div>
                  <div class="status__content">
                  </div>
                  <div class="action-bar flex start hidden">
                      <a v-if="0 != user.display_name.length" class="color-pk" v-html="formatEmoji(user.display_name, user.emojis)"></a>
                      <a v-else class="color-pk">{{user.username}}</a>
                  </div>
                </div>
              </div>
              <div class="status flex wrap">
                <span v-on:click="popForm" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-pencil"></i>Katsu!</div>
                </span>
                <span v-on:click="runBell();notif_type = '';" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-bell"></i>Notification</div>
                  <small v-if="0 != notif_unread">{{notif_unread}}</small>
                </span>
                <span v-on:click="runBell();notif_type = 'Mention'; notif_opt = true;" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-at"></i>Mention</div>
                  <small v-if="0 != notif_unread_m">{{notif_unread_m}}</small>
                </span>
                <span v-on:click="popSetting" class="list-link border-lite full bgcolor-wh flex end">
                  <div class="hidden full"><i class="fa fa-fw fa-cog"></i>Setting</div>
                </span>
              </div>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-bars" v-on:click="toggleLinkLock"></i>
          </div>
        </div>
        <!-- C-Links_d -->
        <div v-if="ua == 'pc' && !showLinkLock" class="column nano">
          <div class="flex column-footer inside">
            <i class="fa fa-fw fa-bars" v-on:click="toggleLinkLock"></i>
          </div>
        </div>
        <!-- AnotherHome -->
        <div :class="[{ invisible: !showhometl || (showhometl && 'Home' == home_type) }, { primary: optColumnWide }, { full: optColumnWide && '1' == optColumns }]" class="column">
          <div class="column-header">
            <div class="flex">
              <div class="hidden full">
                <i class="fa fa-fw fa-gamepad"></i>Home <small>(Stream: {{connHome}})</small>
              </div>
              <span class="column-opt"><i v-on:click="toggleHomeOpt()" class="fa fa-fw fa-ellipsis-h"></i></span>
            </div>
            <div v-show="home_opt" class="flex">
              <div v-if="fetch_lock.homews || fetch_lock.home" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-users"></i>Back to Home</div>
              <div v-else v-on:click="home_opt = false; home_type = 'Home';" class="tl-link full color-wh" :class="['Home' == home_type ? 'bgcolor-pk' : 'bgcolor']">Back to Home</div>
<!--               <div v-if="fetch_lock.homews || fetch_lock.home" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-globe"></i>Other</div>
              <div v-else v-on:click="home_opt = false; home_type = 'Other'" class="tl-link full color-wh" :class="['Other' == home_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-globe"></i>Other</div> -->
            </div>
          </div>
          <!-- <div :class="{'underline-dash-pk':! home_scr && 0 != home_unread}"></div> -->
          <div class="scrollable" id="anootherhome" v-on:scroll="">
            <!-- Discord -->
            <div v-if="hasHome" class="status-list">

            </div>

            <div v-else>
              <div class="flex">Initializing...</div>
            </div>
            <div class="flex info-wrapper">
              <span v-if="fetch_lock.home"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
              <span v-else-if="fetch_comp.home">All Loaded</span>
              <span v-else>TouchEnd to Load Next</span>
            </div>
          </div>
        </div>
        <!-- HOME -->
        <div :class="[{ invisible: !showhometl || (showhometl && 'Home' != home_type) }, { primary: optColumnWide }, { full: optColumnWide && '1' == optColumns }]" class="column">
          <div class="column-header">
            <div class="flex">
              <div class="hidden full">
                <i class="fa fa-fw fa-home"></i>Home <small>(Stream: {{connHome}})</small>
              </div>
              <!-- <span class="column-opt"><i v-on:click="toggleHomeOpt()" class="fa fa-fw fa-ellipsis-h"></i></span> -->
            </div>
            <div v-show="home_opt && false" class="flex">
              <div v-if="fetch_lock.homews || fetch_lock.home" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-users"></i>Home</div>
              <div v-else v-on:click="home_opt = false" class="tl-link full color-wh" :class="['Home' == home_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-users"></i>Home</div>
              <div v-if="fetch_lock.homews || fetch_lock.home" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-globe"></i>Other</div>
              <div v-else v-on:click="home_opt = false; home_type = 'Other'" class="tl-link full color-wh" :class="['Other' == home_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-globe"></i>Other</div>
            </div>
          </div>
          <!-- <div :class="{'underline-dash-pk':! home_scr && 0 != home_unread}"></div> -->
          <div class="scrollable" id="home" v-on:scroll="handleScrollHome">
            <div v-if="hasHome" class="status-list">
              <div v-for="(issue, index) in homes" v-if="home_unread <= index" class="status-wrapper" :class="issue.visibility">
                <div v-if="null != issue.reblog" class="status-header flex start">
                  <i class="fa fa-fw fa-retweet color-on"></i>
                  <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border notif" v-on:click="runAcct(issue.account.id)">
                  <!-- <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i> -->
                  <div class="full">
                    <div>
                      <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></span>
                      <span v-else class="color-pk">{{issue.account.username}}</span>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <div class="status-name flex start">
                      <div class="hidden">
                        <span> reblog</span>
                      </div>
                      <span class="status-info color-gr">({{formatDate(issue.created_at)}})</span>
                    </div>
                  </div>
                </div>
                <!-- REBLOG -->
                <div v-if="null != issue.reblog" class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.reblog.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.reblog.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.reblog.account.display_name, issue.reblog.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.reblog.account.username}}</a>
                        <small class="color-gr">‭@{{issue.reblog.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.reblog.visibility">[{{issue.reblog.visibility}}]</small>
                      <small v-if="issue.reblog.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div v-if="issue.caught_katsufilter">
                      <div class="spoller_link border-dash" v-on:click="updateWrapper(issue.reblog, false)"><small>- Caught by Katsu Filter -</small></div>
                    </div>
                    <div v-else>
                      <div class="status__content">
                        <span v-html="formatContentS(issue.reblog.spoiler_text, issue.reblog.emojis)"></span>
                        <div v-if="0 != issue.reblog.spoiler_text.length">
                          <div v-if="!issue.reblog.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue.reblog, true)"><small>- SHOW MORE -</small></div>
                          <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue.reblog, false)"><small>- SHOW LESS -</small></div>
                          <span v-if="issue.reblog.content_opened" v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                        </div>
                        <div v-else>
                          <span v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                        </div>
                      </div>
                      <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper flex">
                        <a v-for="media in issue.reblog.media_attachments" @click="modal = media;showModal = true;">
                          <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                          <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                          <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                          <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                        </a>
                      </div>
                      <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper control">
                        <i v-on:click="updateMediaWrapper(issue.reblog, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                      </div>
                      <div v-if="((( optAllNsfw || issue.reblog.sensitive ) && !issue.reblog.media_opened ) || false === issue.reblog.media_opened ) && 0 != issue.reblog.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue.reblog, true)">
                        <h4 v-if="issue.reblog.sensitive">Sensitive contents</h4>
                        <h4 v-else>Media contents</h4>
                        <small>Click to view</small>
                      </div>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-paperclip color-disable"></i>
                        <small class="time">{{formatDate(issue.reblog.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue.reblog)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.reblog.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.reblog.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.reblog.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblog.reblogged" v-on:click="actUnReblog(issue.reblog);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.reblog)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.reblog.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.reblog.favourited" v-on:click="actUnFav(issue.reblog, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.reblog);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.reblog.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.reblog.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- NORMAL -->
                <div v-else class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div v-if="issue.caught_katsufilter">
                      <div class="spoller_link border-dash" v-on:click="updateWrapper(issue, false)"><small>- Caught by Katsu Filter -</small></div>
                    </div>
                    <div v-else>
                      <div class="status__content">
                        <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                        <div v-if="0 != issue.spoiler_text.length">
                          <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                          <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                          <span v-show="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                        <div v-else>
                          <span v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                        <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                          <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                          <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                          <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                          <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                        </a>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                        <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                      </div>
                      <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                        <h4 v-if="issue.sensitive">Sensitive contents</h4>
                        <h4 v-else>Media contents</h4>
                        <small>Click to view</small>
                      </div>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <div class="flex info-wrapper">Initializing...</div>
            </div>
            <div class="flex info-wrapper">
              <span v-if="fetch_lock.home"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
              <span v-else-if="fetch_comp.home">All Loaded</span>
              <span v-else>TouchEnd to Load Next</span>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upHome"></i>
            <i class="fa fa-fw fa-angle-up" v-on:click="backHome"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextHome"></i>
          </div>
        </div>

        <!-- LOCAL -->
        <div :class="[{ invisible: !showlocaltl }, { primary: optColumnWide }, { full: optColumnWide && '1' == optColumns }]" class="column">
          <div class="column-header">
            <div class="flex">
              <div class="hidden full">
                <i v-if="'Global' == local_type" class="fa fa-fw fa-globe"></i>
                <i v-else class="fa fa-fw fa-users"></i>{{local_type}} <small>(Stream: {{connLocal}})</small>
              </div>
              <span class="column-opt"><i v-on:click="toggleLocalOpt()" class="fa fa-fw fa-ellipsis-h"></i></span>
            </div>
            <div v-show="local_opt" class="flex">
              <div v-if="fetch_lock.localws || fetch_lock.local" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-users"></i>Local</div>
              <div v-else v-on:click="reopenWsLocal('Local');local_opt = false" class="tl-link full color-wh" :class="['Local' == local_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-users"></i>Local</div>
              <div v-if="fetch_lock.localws || fetch_lock.local" class="tl-link full color-wh bgcolor-disable"><i class="fa fa-fw fa-globe"></i>Global</div>
              <div v-else v-on:click="reopenWsLocal('Global');local_opt = false" class="tl-link full color-wh" :class="['Global' == local_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-globe"></i>Global</div>
            </div>
          </div>
          <!-- <div :class="{'underline-dash-pk':! local_scr && 0 != local_unread}"></div> -->
          <div class="scrollable" id="local" v-on:scroll="handleScrollLocal">
            <div v-if="hasLocal" class="status-list">
              <div v-for="(issue, index) in locals" v-if="local_unread <= index" class="status-wrapper" :class="issue.visibility">
                <div v-if="local_id_bookmark == issue.id" class="status-header flex start bgcolor-bookmark bookmark">
                  <i v-on:click="local_id_bookmark = ''" class="fa fa-fw fa-paperclip big"></i>
                </div>
                <div class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div v-if="issue.caught_katsufilter">
                      <div class="spoller_link border-dash" v-on:click="updateWrapper(issue, false)"><small>- Caught by Katsu Filter -</small></div>
                    </div>
                    <div v-else>
                      <div class="status__content">
                        <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                        <div v-if="0 != issue.spoiler_text.length">
                          <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                          <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                          <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                        <div v-else>
                          <span v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                        <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                          <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                          <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                          <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                          <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                        </a>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                        <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                      </div>
                      <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                        <h4 v-if="issue.sensitive">Sensitive contents</h4>
                        <h4 v-else>Media contents</h4>
                        <small>Click to view</small>
                      </div>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <div class="status-header flex end">
                  <small v-if="issue.application && showDebugLocal">
                    via <a :href="issue.application.website" target="_blank" rel="noopener noreferrer">{{issue.application.name}} </a>
                  </small>
                </div>
                <div class="status-header flex end">
                  <small v-if="issue.account.acct.indexOf('@') != -1">
                    from <a target="_blank" rel="noopener noreferrer">{{issue.account.acct.split('@')[1]}}</a>
                  </small>
                </div>
              </div>
            </div>
            <div v-else>
              <div class="flex info-wrapper">Initializing...</div>
            </div>
            <div class="flex info-wrapper">
              <span v-if="fetch_lock.local"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
              <span v-else-if="fetch_comp.local">All Loaded</span>
              <span v-else>TouchEnd to Load Next</span>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upLocal"></i>
            <i class="fa fa-fw fa-angle-up" v-on:click="backLocal"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextLocal"></i>
          </div>
        </div>

        <!-- NOTIFICATION -->
        <div v-if="shownotif" id="notif" class="column" :class="{ full: optColumnWide && '1' == optColumns }">
          <div class="column-header">
            <div class="flex">
              <div class="hidden full">
                <i class="fa fa-fw fa-bell"></i>Notification <small>(Stream: {{connHome}})</small>
              </div>
              <span v-if="!notif_opt" class="column-opt"><i v-on:click="notif_type = '';toggleNotifOpt();" class="fa fa-fw fa-ellipsis-h"></i></span>
            </div>
            <div v-show="notif_opt" class="action-bar flex end">
              <div class="hidden">
                <i class="fa fa-fw fa-filter color-disable"></i><small>Filter<span v-if="notif_type != ''">: {{notif_type}}</span> </small>
              </div>
              <div v-on:click="notif_type = ''; notif_opt = false" class="button mini color-wh bgcolor">Clear</div>
            </div>
              <div v-show="notif_opt" class="flex">
              <div v-on:click="notif_type = 'Mention';" class="acct-select color-wh bgcolor" :class="['Mention' == notif_type || '' == notif_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-reply"></i></i>Mention</div>
              <div v-on:click="notif_type = 'Favourite';" class="acct-select color-wh bgcolor" :class="['Favourite' == notif_type || '' == notif_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-star"></i>Fav</div>
              <div v-on:click="notif_type = 'Reblog';" class="acct-select color-wh bgcolor" :class="['Reblog' == notif_type || '' == notif_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-retweet"></i>Reblog</div>
              <div v-on:click="notif_type = 'Follow';" class="acct-select color-wh bgcolor" :class="['Follow' == notif_type || '' == notif_type ? 'bgcolor-pk' : 'bgcolor']"><i class="fa fa-fw fa-user-plus"></i>Follow</div>
            </div>
          </div>
          <div class="scrollable" v-on:scroll="handleScrollNotif">
            <div v-if="hasNotif" class="status-list high">
              <div v-for="issue in notifs"  v-if="!(('favourite' == issue.type || 'reblog' == issue.type) && null == issue.status) && notifFilter(issue)" class="status-wrapper" :class="issue.visibility">
                <div class="status-header flex start">
                  <i v-if="'mention' == issue.type" class="fa fa-fw fa-reply"></i>
                  <i v-else-if="'reblog' == issue.type" class="fa fa-fw fa-retweet color-on"></i>
                  <i v-else-if="'favourite' == issue.type" class="fa fa-fw fa-star color-on"></i>
                  <i v-else-if="'follow' == issue.type" class="fa fa-fw fa-user-plus color-gr"></i>
                  <span v-if="('reblog' == issue.type || 'favourite' == issue.type) && issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else-if="'reblog' == issue.type || 'favourite' == issue.type" :src="checkAvatar(issue.account.avatar_static)" class="avatar border notif" v-on:click="runAcct(issue.account.id)">
                  <!-- <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i> -->
                  <div class="full">
                    <div>
                      <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></span>
                      <span v-else class="color-pk">{{issue.account.username}}</span>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <div class="status-name flex start">
                      <div class="hidden">
                      <span v-if="'mention' == issue.type">{{issue.type}} your katsu!</span>
                      <span v-else-if="'follow' == issue.type">{{issue.type}} you</span>
                      <span v-else>{{issue.type}} your katsu!</span>
                      </div>
                      <span v-if="'mention' != issue.type" class="status-info color-gr">({{formatDate(issue.created_at)}})</span>
                    </div>
                  </div>
                </div>
                <!-- Mention -->
                <div v-if="'mention' == issue.type" class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.status.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.status.account.display_name, issue.status.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.status.account.username}}</a>
                        <small class="color-gr">‭@{{issue.status.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.status.visibility">[{{issue.status.visibility}}]</small>
                      <small v-if="issue.status.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.status.spoiler_text, issue.status.emojis)" v-if="0 != issue.status.spoiler_text.length"></span>
                      <span v-html="formatContent(issue.status.content, issue.status.emojis)"></span>
                    </div>
                    <div v-if="0 != issue.status.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.status.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                        <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.status.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue.status, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="(( issue.status.sensitive && !issue.status.media_opened ) || false === issue.status.media_opened ) && 0 != issue.status.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue.status, true)">
                      <h4 v-if="issue.status.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-paperclip color-disable"></i>
                        <small class="time">{{formatDate(issue.status.created_at)}}</small>
                      </div>
                      <small v-if="'public' != issue.status.visibility">{{issue.status.visibility}}</small>
                      <i v-on:click="runForm(issue.status)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.status.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.status.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.status.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.status.reblogged" v-on:click="actUnReblog(issue.status);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.status)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.status.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.status.favourited" v-on:click="actUnFav(issue.status);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.status);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.status.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.status.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- Fav/Reblog -->
                <div v-else-if="'favourite' == issue.type || 'reblog' == issue.type " class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.status.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.status.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.status.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.status.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.status.account.display_name, issue.status.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.status.account.username}}</a>
                        <small class="color-gr">‭@{{issue.status.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.status.visibility">[{{issue.status.visibility}}]</small>
                      <small v-if="issue.status.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.status.spoiler_text, issue.status.emojis)" v-if="0 != issue.status.spoiler_text.length"></span>
                      <span v-html="formatContent(issue.status.content, issue.status.emojis)"></span>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-paperclip color-disable"></i>
                        <small class="time">{{formatDate(issue.status.created_at)}}</small>
                      </div>
                      <i v-on:click="runDetail(issue.status.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.status.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- Follow -->
                <div v-else class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <!-- <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div> -->
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <span v-if="issue.account.locked"><i class="fa fa-fw fa-lock"></i></span>
                      <small v-if="issue.account.bot" class="status-info">[Bot]</small>
                    </div>
                    <div class="status__content">
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-user-o color-disable"></i>
                        <small class="time">{{formatDate(issue.account.created_at)}}</small>
                      </div>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex info-wrapper">
                <span v-if="fetch_lock.notif"><i class="fa fa-fw fa-spinner fa-pulse"></i>Notif Loading...</span>
                <span v-else-if="fetch_comp.notif">All Loaded</span>
                <span v-else>TouchEnd to Load Next</span>
              </div>
            </div>
            <div v-else>
              <div class="flex info-wrapper">Initializing...</div>
              <div class="flex info-wrapper">
                <span v-if="fetch_lock.notif"><i class="fa fa-fw fa-spinner fa-pulse"></i>Notif Loading...</span>
                <span v-else-if="fetch_comp.notif">All Loaded</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Multi -->
        <div :class="[{ invisible: !showmultitl }, { full: optColumnWide && '1' == optColumns }]" class="column">
          <div class="column-header">
            <div class="flex">
              <div class="hidden full">
                <i v-if="'Hashtag' == multi_type" class="fa fa-fw fa-hashtag"></i>
                <i v-else-if="'List' == multi_type" class="fa fa-fw fa-list"></i>
                <i v-else-if="'Discord' == multi_type" class="fa fa-fw fa-gamepad"></i>
                <i v-else class="fa fa-fw fa-comment"></i>
                {{multi_type}}: {{multi_name}} <small v-if="multi_name != multi_target">(id: {{multi_target}})</small> <small>(Stream: {{connMulti}})</small>
              </div>
              <span class="column-opt"><i v-on:click="popStream" class="fa fa-fw fa-exchange"></i></span>
            </div>
          </div>
          <!-- <div :class="{'underline-dash-pk':! multi_scr && 0 != multi_unread}"></div> -->
          <div class="scrollable" id="multi" v-on:scroll="handleScrollMulti">
            <!-- Hashtag -->
            <div v-if="'Hashtag' == multi_type && hasMulti" class="status-list">
              <div v-for="(issue, index) in multis" v-if="multi_unread <= index" class="status-wrapper" :class="issue.visibility">
                <div v-if="local_id_bookmark == issue.id" class="status-header flex start bgcolor-bookmark bookmark">
                  <i v-on:click="local_id_bookmark = ''" class="fa fa-fw fa-paperclip big"></i>
                </div>
                <div class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div v-if="issue.caught_katsufilter">
                      <div class="spoller_link border-dash" v-on:click="updateWrapper(issue, false)"><small>- Caught by Katsu Filter -</small></div>
                    </div>
                    <div v-else>
                      <div class="status__content">
                        <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                        <div v-if="0 != issue.spoiler_text.length">
                          <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                          <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                          <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                        <div v-else>
                          <span v-html="formatContent(issue.content, issue.emojis)"></span>
                        </div>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                        <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                          <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                          <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                          <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                          <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                        </a>
                      </div>
                      <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                        <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                      </div>
                      <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                        <h4 v-if="issue.sensitive">Sensitive contents</h4>
                        <h4 v-else>Media contents</h4>
                        <small>Click to view</small>
                      </div>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <div class="status-header flex end">
                  <small v-if="issue.application && showDebugLocal">
                    via <a :href="issue.application.website" target="_blank" rel="noopener noreferrer">{{issue.application.name}} </a>
                  </small>
                </div>
                <div class="status-header flex end">
                  <small v-if="issue.account.acct.indexOf('@') != -1">
                    from <a target="_blank" rel="noopener noreferrer">{{issue.account.acct.split('@')[1]}}</a>
                  </small>
                </div>
              </div>
            </div>
            <!-- List -->
            <div v-else-if="'List' == multi_type && hasMulti" class="status-list">
              <div v-for="(issue, index) in multis" v-if="multi_unread <= index" class="status-wrapper" :class="issue.visibility">
                <div v-if="null != issue.reblog" class="status-header flex start">
                  <i class="fa fa-fw fa-retweet color-on"></i>
                  <span v-if="issue.loading_avatar" class="avatar border notif" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-lese :src="checkAvatar(issue.account.avatar_static)" class="avatar border notif" v-on:click="runAcct(issue.account.id)">
                  <!-- <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i> -->
                  <div class="full">
                    <div>
                      <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></span>
                      <span v-else class="color-pk">{{issue.account.username}}</span>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <div class="status-name flex start">
                      <div class="hidden">
                        <span> reblog</span>
                      </div>
                      <span class="status-info color-gr">({{formatDate(issue.created_at)}})</span>
                    </div>
                  </div>
                </div>
                <!-- REBLOG -->
                <div v-if="null != issue.reblog" class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.reblog.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.reblog.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.reblog.account.display_name, issue.reblog.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.reblog.account.username}}</a>
                        <small class="color-gr">‭@{{issue.reblog.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.reblog.visibility">[{{issue.reblog.visibility}}]</small>
                      <small v-if="issue.reblog.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.reblog.spoiler_text, issue.reblog.emojis)"></span>
                      <div v-if="0 != issue.reblog.spoiler_text.length">
                        <div v-if="!issue.reblog.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue.reblog, true)"><small>- SHOW MORE -</small></div>
                        <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue.reblog, false)"><small>- SHOW LESS -</small></div>
                        <span v-if="issue.reblog.content_opened" v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                      </div>
                      <div v-else>
                        <span v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.reblog.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                        <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue.reblog, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="((( optAllNsfw || issue.reblog.sensitive ) && !issue.reblog.media_opened ) || false === issue.reblog.media_opened ) && 0 != issue.reblog.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue.reblog, true)">
                      <h4 v-if="issue.reblog.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-paperclip color-disable"></i>
                        <small class="time">{{formatDate(issue.reblog.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue.reblog)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.reblog.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.reblog.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.reblog.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblog.reblogged" v-on:click="actUnReblog(issue.reblog);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.reblog)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.reblog.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.reblog.favourited" v-on:click="actUnFav(issue.reblog, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.reblog);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.reblog.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.reblog.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- NORMAL -->
                <div v-else class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border" v-on:click="runAcct(issue.account.id)"></span>
                  <img v-else :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                      <div v-if="0 != issue.spoiler_text.length">
                        <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                        <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                        <span v-show="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                      <div v-else>
                        <span v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <span v-if="issue.loading_media && ('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" class="media"></span>
                        <img v-else-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                      <h4 v-if="issue.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Discord -->
            <div v-else-if="'Discord' == multi_type && hasMulti" class="status-list">
              <div v-for="(issue, index) in discords" v-if="discord_unread <= index" class="status-wrapper" :class="issue.visibility">
                <div class="status flex">
                  <span v-if="issue.loading_avatar" class="avatar border"></span>
                  <img v-else :src="checkAvatarDiscord(issue.author)" class="avatar border">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a class="color-pk">{{issue.author.username}}</a>
                        <small class="color-gr">‭#{{issue.author.discriminator}}</small>
                      </div>
                      <span class="status-info color-gr"> {{formatDate(issue.timestamp)}}</span>
                    </div>
                    <div class="status__content">
                      <div>
                        <span v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-else-if="'Hashtag' == multi_type || 'List' == multi_type || 'Discord' == multi_type">
              <div v-if="'open' != connMulti" class="flex info-wrapper">Initializing...</div>
              <!-- <div v-else class="flex">nothing...?</div> -->
            </div>
            <div v-else>
              <div class="flex"><span class="button color-wh bgcolor-pk" v-on:click="popStream"><i class="fa fa-fw fa-exchange"></i> Select Stream</span></div>
            </div>
            <div v-if="'Stream' != multi_type" class="flex info-wrapper">
              <span v-if="fetch_lock.multi"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
              <span v-else-if="fetch_comp.multi">All Loaded</span>
              <span v-else>TouchEnd to Load Next</span>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upMulti"></i>
            <i class="fa fa-fw fa-angle-up" v-on:click="backMulti"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextMulti"></i>
          </div>
        </div>

        <!-- Detail -->
        <div v-if="showdetail" class="column" :class="{ full: optColumnWide && '1' == optColumns }">
          <div class="column-header"><i class="fa fa-fw fa-comment"></i>Detail <small>(id:{{detail.id}})</small></div>
          <div class="scrollable">
            <!-- ANCESTORS -->
            <div v-if="hasDetailUp" class="status-list">
              <div v-for="(issue, index) in detail_chain.ancestors" class="status flex">
                <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                      <a v-else class="color-pk">{{issue.account.username}}</a>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                    <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                  </div>
                  <div class="status__content">
                    <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                    <div v-if="0 != issue.spoiler_text.length">
                      <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                      <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                      <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                    <div v-else>
                      <span v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                    <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                    </a>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                    <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                  </div>
                  <div v-if="(( issue.sensitive && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                    <h4 v-if="issue.sensitive">Sensitive contents</h4>
                    <h4 v-else>Media contents</h4>
                    <small>Click to view</small>
                  </div>
                  <div class="action-bar flex end">
                    <div class="hidden nodot">
                      <i v-if="issue.req_pin" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.pinned" v-on:click="actUnPin(issue)" class="fa fa-fw fa-thumb-tack"></i>
                      <i v-else-if="issue.account.id == user.id && 'direct' != issue.visibility && 'private' != issue.visibility" v-on:click="actPin(issue)" class="fa fa-fw fa-thumb-tack fa-rotate-270"></i>
                      <i v-else v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                      <small class="time">{{formatDate(issue.created_at)}}</small>
                    </div>
                    <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                    <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                    <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                    <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                    <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                    <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                    <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                    <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            </div>
            <!-- TARGET -->
            <div v-if="hasDetail" class="status-list">
              <div class="status flex">
                <img :src="checkAvatar(detail.account.avatar_static)" class="avatar border" v-on:click="runAcct(detail.account.id)">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != detail.account.display_name.length" class="color-pk" v-html="formatEmoji(detail.account.display_name, detail.account.emojis)"></a>
                      <a v-else class="color-pk">{{detail.account.username}}</a>
                      <small class="color-gr">‭@{{detail.account.acct}}</small>
                    </div>
                      <small v-if="detail.account.locked"><i class="fa fa-fw fa-lock"></i></small>
                      <small v-if="detail.account.bot" class="status-info">[Bot]</small>
                      <small>[{{detail.visibility}}]</small>
                      <small v-if="detail.sensitive" class="status-info">[Sensitive]</small>
                  </div>
                  <div class="detail-time flex end">
                  </div>
                  <div class="status__content">
                    <span v-html="formatContentS(detail.spoiler_text, detail.emojis)"></span>
                    <div v-if="0 != detail.spoiler_text.length">
                      <div v-if="!detail.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(detail, true)"><small>- SHOW MORE -</small></div>
                      <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(detail, false)"><small>- SHOW LESS -</small></div>
                      <span v-if="detail.content_opened" v-html="formatContent(detail.content, detail.emojis)"></span>
                    </div>
                    <div v-else>
                      <span v-html="formatContent(detail.content, detail.emojis)"></span>
                    </div>
                  </div>
                  <div v-if="0 != detail.media_attachments" class="media-wrapper flex">
                    <a v-for="media in detail.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                    </a>
                  </div>
                  <div v-if="0 != detail.media_attachments" class="media-wrapper control">
                    <i v-on:click="updateMediaWrapper(detail, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                  </div>
                  <div v-if="(( detail.sensitive && !detail.media_opened ) || false === detail.media_opened ) && 0 != detail.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(detail, true)">
                    <h4 v-if="detail.sensitive">Sensitive contents</h4>
                    <h4 v-else>Media contents</h4>
                    <small>Click to view</small>
                  </div>
                  <div v-if="0 != detail.media_attachments.length" class="action-bar flex end">
                    <div class="full hidden nodot">
                      <small>media links:</small>
                      <span v-for="media in detail.media_attachments">
                        <a :href="media.url" rel="nofollow noopener" target="_blank">
                          <i v-if="'video' == media.type || 'gifv' == media.type" class="fa fa-fw fa-file-video-o color-gr"></i>
                          <i v-else class="fa fa-fw fa-file-image-o color-gr"></i>
                        </a>
                      </span>
                    </div>
                  </div>
                  <a v-if="hasDetailCard" class="flex center detail-card bgcolor-wh" :href="detail_card.url" target="_blank" rel="noopener noreferrer">
                    <img v-if="null != detail_card.image" :src="detail_card.image">
                    <div class="detail-content">
                      <span>{{detail_card.title}}</span><br>
                      <!-- <small>{{detail_card.description}}</small><br> -->
                      <small>{{formatDomain(detail_card.url)}}</small>
                    </div>
                  </a>
                  <div class="detail-bar flex end">
                    <div>
                      <div class="detail-select"><i class="fa fa-fw fa-retweet"></i><small>{{detail_reblog.length}}</small></div>
                      <img v-for="account in detail_reblog" :src="checkAvatar(account.avatar_static)" v-on:click="runAcct(account.id)" class="avatar mini">
                    </div>
                    <div>
                      <div class="detail-select"><i class="fa fa-fw fa-star"></i><small>{{detail_fav.length}}</small></div>
                      <img v-for="account in detail_fav" :src="checkAvatar(account.avatar_static)" v-on:click="runAcct(account.id)" class="avatar mini">
                    </div>
                  </div>
                  <div class="action-bar flex end wrap">
                    <div class="">
                      <i v-if="detail.req_pin" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="detail.pinned" v-on:click="actUnPin(detail)" class="fa fa-fw fa-thumb-tack"></i>
                      <i v-else-if="detail.account.id == user.id && 'direct' != detail.visibility && 'private' != detail.visibility" v-on:click="actPin(detail)" class="fa fa-fw fa-thumb-tack fa-rotate-270"></i>
                      <i v-else v-on:click="actBookmark(detail)" class="fa fa-fw fa-paperclip"></i>
                      <small class="time">{{formatDateFull(detail.created_at)}}</small>
                    </div>
                    <div class="action-bar flex end">
                      <dummy></dummy>
                      <i v-on:click="runForm(detail)" class="fa fa-fw fa-reply"></i>
                      <i v-if="detail.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == detail.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == detail.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="detail.reblogged" v-on:click="actUnReblog(detail);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(detail)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="detail.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="detail.favourited" v-on:click="actUnFav(detail);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(detail);" class="fa fa-fw fa-star"></i>
                      <i v-if="detail.req_delete || detail.req_report" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="user.id == detail.account.id" v-on:click="actDelete(detail)" class="fa fa-fw fa-trash"></i>
                      <i v-else v-on:click="actReport(detail)" class="fa fa-fw fa-exclamation-triangle"></i>
                      <i v-on:click="runAcct(detail.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex account-bar">
              </div>
              <div class="status-header flex end">
                <small v-if="detail.application">
                  via <a :href="detail.application.website" target="_blank" rel="noopener noreferrer">{{detail.application.name}}</a>
                </small>
              </div>
            </div>
            <!-- DESCESTORS -->
            <div v-if="hasDetailDn" class="status-list">
              <div v-for="(issue, index) in detail_chain.descendants" class="status flex">
                <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                      <a v-else class="color-pk">{{issue.account.username}}</a>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                    <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                  </div>
                  <div class="status__content">
                    <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                    <div v-if="0 != issue.spoiler_text.length">
                      <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                      <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                      <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                    <div v-else>
                      <span v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                    <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                    </a>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                    <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                  </div>
                  <div v-if="(( issue.sensitive && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                    <h4 v-if="issue.sensitive">Sensitive contents</h4>
                    <h4 v-else>Media contents</h4>
                    <small>Click to view</small>
                  </div>
                  <div class="action-bar flex end">
                    <div class="hidden nodot">
                      <i v-if="issue.req_pin" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.pinned" v-on:click="actUnPin(issue)" class="fa fa-fw fa-thumb-tack"></i>
                      <i v-else-if="issue.account.id == user.id && 'direct' != issue.visibility && 'private' != issue.visibility" v-on:click="actPin(issue)" class="fa fa-fw fa-thumb-tack fa-rotate-270"></i>
                      <i v-else v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                      <small class="time">{{formatDate(issue.created_at)}}</small>
                    </div>
                    <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                    <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                    <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                    <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                    <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                    <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                    <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                    <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <div class="flex">Initializing...</div>
            </div>
          </div>
        </div>

        <!-- Account -->
        <div v-if="showacct" class="column" :class="{ full: optColumnWide && '1' == optColumns }">
          <div class="column-header"><i class="fa fa-fw fa-user-circle-o"></i>Account <small>(id:{{acct.id}})</small></div>
          <div class="scrollable" id="acct" v-on:scroll="handleScrollAcct">
            <div v-if="hasAcctRel" class="account-info">
              <div v-show="isMyAcct && this.user.requesting_count > 0" v-on:click="resetAcctColumn();fetchFollowRequest();" class="button mini color-wh bgcolor-pk"><i class="fa fa-fw fa-info-circle"></i>Follow Request: {{user.requesting_count}}</div>
              <div v-if="acct.header.indexOf('original/missing.png') == -1" class="acct-header-wrapper">
                <img :src="acct.header" class="media-header">
              </div>
              <div class="flex">
                <img :src="checkAvatar(acct.avatar)" class="avatar">
                <div class="content">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <input v-if="isMyAcct && showacctProfile" type="text" class="underline-dash" v-model="profile.name">
                      <a v-else-if="0 != acct.display_name.length" class="color-pk" v-html="formatEmoji(acct.display_name, acct.emojis)"></a>
                      <a v-else class="color-pk">{{acct.username}}</a>
                      <small class="color-gr">‭@{{acct.acct}}</small>
                      <input v-if="isMyAcct && showacctProfile" type="text" class="underline-dash name_b" v-model="profile.name_b">
                    </div>
                    <span v-if="acct.locked"><i class="fa fa-fw fa-lock"></i></span>
                    <span v-if="acct.bot"><small>[Bot]</small></span>
                  </div>
                  <span>{{acct.statuses_count}} </span>Katsu!
                  <div>
                    <span>{{acct.following_count}} </span>Follow /
                    <span>{{acct.followers_count}} </span>Follower
                  </div>
                  <div v-for="field in acct.fields" class="hidden">
                    <small>{{field.name}}</small>:
                    <small v-html="field.value"></small>
                  </div>
                  <div v-if="user.id != acct_targetid" class="flex end action-bar">
                    <i v-on:click="runForm(acct)" class="fa fa-fw fa-reply"></i>
                    <span v-if="acct_relation[0].followed_by">[Follows You] </span>
                    <span v-if="acct_relation[0].muting"><i class="fa fa-fw fa-microphone-slash"></i></span>

                    <span v-if="acct.req_follow" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                    <span v-else-if="acct_relation[0].following" v-on:click="actUnFollow(acct)" class="button mini color-wh bgcolor-pk">Following</span>
                    <span v-else-if="acct_relation[0].requested" class="button mini color-wh bgcolor-disable">Requested</span>
                    <span v-else-if="acct_relation[0].blocking" class="button mini color-wh bgcolor-disable">Follow</span>
                    <span v-else v-on:click="actFollow(acct)" class="button mini color-wh bgcolor">Follow</span>
                    <i v-on:click="toggleAcctEx()" class="fa fa-fw fa-ellipsis-h"></i>
                  </div>
                  <div v-if="user.id != acct_targetid && showacctEx" class="flex end action-bar">
                    <span></span>
                    <span v-if="acct.req_mute" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                    <span v-else-if="acct_relation[0].muting" v-on:click="actUnMute(acct)" class="button mini color-wh bgcolor-pk">UnMute</span>
                    <span v-else v-on:click="actMute(acct)" class="button mini color-wh bgcolor">Mute</span>
                    <span v-if="acct.req_block" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                    <span v-else-if="acct_relation[0].blocking" v-on:click="actUnBlock(acct)" class="button mini color-wh bgcolor-pk">UnBlock</span>
                    <span v-else v-on:click="actBlock(acct)" class="button mini color-wh bgcolor">Block</span>
                  </div>
                  <div v-if="isMyAcct" class="flex end action-bar">
                    <i v-on:click="popSetting" class="fa fa-fw fa-cog"></i>
                    <span v-if="acct.req_profile" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                    <span v-else-if="!showacctProfile" v-on:click="editProfile" class="button mini color-wh bgcolor">Edit</span>
                    <span v-else-if="showacctProfile" v-on:click="showacctProfile = !showacctProfile; profile = [];" class="button mini color-wh bgcolor">Cancel</span>
                    <span v-if="acct.req_profile" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                    <span v-else-if="showacctProfile" v-on:click="runProfile" class="button mini color-wh bgcolor-pk">Save</span>
                    <i v-on:click="toggleAcctEx()" class="fa fa-fw fa-ellipsis-h"></i>
                  </div>
                  <div v-if="isMyAcct && showacctEx" class="flex end action-bar">
                    <span></span>
                    <span v-on:click="openProfile" class="button mini color-wh bgcolor-pk">Open Profile</span>
                    <span v-on:click="runLogout" class="button mini color-wh bgcolor-pk">Logout</span>
                  </div>
                </div>
              </div>
              <div v-if="7 < acct.note.length" class="flex">
                <img :src="checkAvatar(acct.avatar)" class="avatar border">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status__content">
                    <span v-html="formatContent(acct.note, acct.emojis)"></span>
                    <div class="action-bar flex end">
                      <!-- <small :href="acct.url">id:{{acct.id}}</small> -->
                    </div>
                  </div>
                </div>
              </div>
              <div v-for="(issue, index) in acct_pinned" class="status-wrapper" :class="issue.visibility">
                <!-- PINNED -->
                <div class="status flex">
                  <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                      <div v-if="0 != issue.spoiler_text.length">
                        <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                        <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                        <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                      <div v-else>
                        <span v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="(( issue.sensitive && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                      <h4 v-if="issue.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <!-- <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small> -->
                        <i v-if="issue.req_pin" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                        <i v-else-if="issue.account.id != user.id" class="fa fa-fw fa-thumb-tack color-disable"></i>
                        <i v-else v-on:click="actUnPin(issue)" class="fa fa-fw fa-thumb-tack"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex account-bar">
                <div v-on:click="resetAcctColumn();fetchAcct();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'katsu' == acct_type }"><i class="fa fa-fw fa-comments-o"></i>All</div>
                <div v-on:click="resetAcctColumn();fetchMedia();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'media' == acct_type }"><i class="fa fa-fw fa-photo"></i>Media</div>
                <div v-on:click="resetAcctColumn();fetchFollow();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follow' == acct_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follow</div>
                <div v-on:click="resetAcctColumn();fetchFollower();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follower' == acct_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follower</div>
              </div>
              <div v-if="isMyAcct" class="flex account-bar">
                <div v-on:click="resetAcctColumn();fetchFav();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'fav' == acct_type }"><i class="fa fa-fw fa-star-o"></i>Favourite</div>
                <div v-on:click="resetAcctColumn();fetchMute();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'mute' == acct_type }"><i class="fa fa-fw fa-microphone-slash"></i>Mute</div>
                <div v-on:click="resetAcctColumn();fetchBlock();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'block' == acct_type }"><i class="fa fa-fw fa-ban"></i>Block</div>
                <div v-if="acct.locked" v-on:click="resetAcctColumn();fetchFollowRequest();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'request' == acct_type }"><i class="fa fa-fw fa-hourglass"></i>Request</div>
              </div>
            </div>
            <div v-else-if="!hasAcctRel && (hasAcct || hasUser)" class="status-list">
              <div class="flex info-wrapper">Account Loading...</div>
            </div>
            <div v-else class="status-list">
              <div class="flex info-wrapper">Initializing...</div>
            </div>
            <div v-if="hasAcct" class="status-list high">
              <div v-for="(issue, index) in accts" class="status-wrapper" :class="issue.visibility">
                <div v-if="null != issue.reblog" class="status-header flex start">
                  <i class="fa fa-fw fa-retweet color-on"></i>
                  <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border notif" v-on:click="runAcct(issue.account.id)">
                  <!-- <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i> -->
                  <div class="full">
                    <div>
                      <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></span>
                      <span v-else class="color-pk">{{issue.account.username}}</span>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <div class="status-name flex start">
                      <div class="hidden">
                        <span> reblog</span>
                      </div>
                      <span class="status-info color-gr">({{formatDate(issue.created_at)}})</span>
                    </div>
                  </div>
                </div>
                <!-- REBLOG -->
                <div v-if="null != issue.reblog" class="status flex">
                  <img :src="checkAvatar(issue.reblog.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.reblog.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.reblog.account.display_name, issue.reblog.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.reblog.account.username}}</a>
                        <small class="color-gr">‭@{{issue.reblog.account.acct}}</small>
                      </div>
                    <small v-if="'public' != issue.reblog.visibility">[{{issue.reblog.visibility}}]</small>
                    <small v-if="issue.reblog.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.reblog.spoiler_text, issue.reblog.emojis)"></span>
                      <div v-if="0 != issue.reblog.spoiler_text.length">
                        <div v-if="!issue.reblog.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue.reblog, true)"><small>- SHOW MORE -</small></div>
                        <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue.reblog, false)"><small>- SHOW LESS -</small></div>
                        <span v-if="issue.reblog.content_opened" v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                      </div>
                      <div v-else>
                        <span v-html="formatContent(issue.reblog.content, issue.reblog.emojis)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.reblog.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue.reblog, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="(( issue.reblog.sensitive && !issue.reblog.media_opened ) || false === issue.reblog.media_opened ) && 0 != issue.reblog.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue.reblog, true)">
                      <h4 v-if="issue.reblog.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i class="fa fa-fw fa-paperclip color-disable"></i>
                        <small class="time">{{formatDate(issue.reblog.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue.reblog)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.reblog.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.reblog.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.reblog.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblog.reblogged" v-on:click="actUnReblog(issue.reblog);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.reblog)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.reblog.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.reblog.favourited" v-on:click="actUnFav(issue.reblog);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.reblog);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.reblog.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.reblog.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- NORMAL -->
                <div v-else class="status flex">
                  <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                        <a v-else class="color-pk">{{issue.account.username}}</a>
                        <small class="color-gr">‭@{{issue.account.acct}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                      <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                    </div>
                    <div class="status__content">
                      <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                      <div v-if="0 != issue.spoiler_text.length">
                        <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                        <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                        <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                      <div v-else>
                        <span v-html="formatContent(issue.content, issue.emojis)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                      </a>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                      <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                    </div>
                    <div v-if="(( issue.sensitive && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                      <h4 v-if="issue.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden nodot">
                        <i v-if="issue.req_pin" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                        <i v-else-if="issue.pinned" v-on:click="actUnPin(issue)" class="fa fa-fw fa-thumb-tack"></i>
                        <i v-else-if="issue.account.id == user.id && (acct_type=='katsu' || acct_type=='media') && 'direct' != issue.visibility && 'private' != issue.visibility" v-on:click="actPin(issue)" class="fa fa-fw fa-thumb-tack fa-rotate-270"></i>
                        <i v-else v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                        <small class="time">{{formatDate(issue.created_at)}}</small>
                      </div>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                      <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex info-wrapper">
                <span v-if="fetch_lock.acct"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
                <span v-else-if="fetch_comp.acct">All Loaded</span>
                <span v-else>TouchEnd to Load Next</span>
              </div>
            </div>
            <div v-else-if="hasUser" class="status-list high">
              <div v-for="issue in accts_users" class="status flex">
                <img :src="checkAvatar(issue.avatar_static)" class="avatar border" v-on:click="runAcct(issue.id)">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != issue.display_name.length" class="color-pk" v-html="formatEmoji(issue.display_name, issue.emojis)"></a>
                      <a v-else class="color-pk">{{issue.username}}</a>
                      <small class="color-gr">‭@{{issue.acct}}</small>
                    </div>
                    <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span>
                    <small v-if="issue.bot" class="status-info">[Bot]</small>
                  </div>
                  <div class="status__content">
                  </div>
                  <div class="action-bar flex end">
                    <i></i>
                    <div v-if="user.id != issue.id && acct_type != 'request'">
                      <span v-if="issue.req_follow" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                      <span v-else-if="isFollow(issue.id)" v-on:click="actUnFollow(issue)" class="button mini color-wh bgcolor-pk">Following</span>
                      <span v-else-if="isRequest(issue.id)" class="button mini color-wh bgcolor-disable">Requested</span>
                      <span v-else-if="isBlock(issue.id)" class="button mini color-wh bgcolor-disable">Follow</span>
                      <span v-else-if="!isFollow(issue.id)" v-on:click="actFollow(issue)" class="button mini color-wh bgcolor">Follow</span>
                    </div>
                    <div v-if="acct_type == 'request'">
                      <span v-if="issue.req_follow" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                      <span v-else-if="false === issue.authorize" class="button mini color-wh bgcolor-disable">Rejected</span>
                      <span v-else-if="void 0 === issue.authorize" v-on:click="actUnFollowAuth(issue)" class="button mini color-wh bgcolor">Reject</span>
                      <span v-if="issue.req_follow" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                      <span v-else-if="issue.authorize" class="button mini color-wh bgcolor-disable">Authorized</span>
                      <span v-else-if="void 0 === issue.authorize" v-on:click="actFollowAuth(issue)" class="button mini color-wh bgcolor-pk">Authorize</span>
                    </div>
                    <i v-on:click="runAcct(issue.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
              <div class="flex info-wrapper">
                <span v-if="fetch_lock.acct"><i class="fa fa-fw fa-spinner fa-pulse"></i>Account Loading...</span>
                <span v-else-if="fetch_comp.acct">All Loaded</span>
                <span v-else>TouchEnd to Load Next</span>
              </div>
            </div>
            <div v-else class="status-list high">
              <div class="flex info-wrapper">
                <span v-if="fetch_lock.acct && (acct_type == 'katsu' || acct_type == 'media' || acct_type == 'fav')"><i class="fa fa-fw fa-spinner fa-pulse"></i>Katsu Loading...</span>
                <span v-else-if="fetch_lock.acct"><i class="fa fa-fw fa-spinner fa-pulse"></i>Account Loading...</span>
                <span v-else-if="fetch_comp.acct">(All Loaded)</span>
                <span v-else>TouchEnd to Load Next</span>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="flex">
        <!-- Links -->
        <div v-if="showLink" :class="{ 'extra': 'native' == app_mode }" class="column mini leftswipe streams scrollable bgcolor-wh fixed">
          <div class="link-list">

            <div class="status flex wrap">
              <span v-on:click="runHome" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-home"></i>Home</div>
              </span>
              <span v-if="fetch_lock.localws || fetch_lock.local" class="list-link border-lite full color bgcolor-disable flex end">
                <div class="hidden full"><i class="fa fa-fw fa-users"></i>Local</div>
              </span>
              <span v-else v-on:click="runLocal();reopenWsLocal('Local');local_opt = false;" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-users"></i>Local</div>
              </span>
              <span v-if="fetch_lock.localws || fetch_lock.local" class="list-link border-lite full color bgcolor-disable flex end">
                <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Global</div>
              </span>
              <span v-else v-on:click="runLocal();reopenWsLocal('Global');local_opt = false;" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Global</div>
              </span>
              <span v-on:click="toggleStreamOpened('lists')" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-list"></i>Lists</div>
              </span>
              <div v-if="stream_opened == 'lists'" class="full">
                <span v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link slim color-wh bgcolor-disable flex end">
                  <div class="hidden full"><small>Loading...</small></div>
                </span>
                <span v-else v-for="issue in stream_lists" v-on:click="runMulti('List', issue.id);reopenWsMulti('List', issue);multi_opt = false;" class="list-link slim border-lite bgcolor-wh flex end">
                  <div class="hidden full"><small>{{issue.title}}</small></div>
                </span>
                <span v-on:click="popStream" class="list-link slim border-lite bgcolor-wh flex end">
                  <div class="hidden full"><small><i class="fa fa-fw fa-pencil"></i>Open Streams</small></div>
                </span>
              </div>
              <span v-on:click="toggleStreamOpened('tags')" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-hashtag"></i>Hashtags</div>
              </span>
              <div v-if="stream_opened == 'tags'" class="full">
                <span v-if="fetch_lock.multiws || fetch_lock.multi" class="list-link slim color-wh bgcolor-disable flex end">
                  <div class="hidden full"><small>Loading...</small></div>
                </span>
                <span v-else v-for="issue in stream_hashtags" v-on:click="runMulti('Hashtag', issue);reopenWsMulti('Hashtag', issue);multi_opt = false;" class="list-link slim border-lite bgcolor-wh flex end">
                  <div class="hidden full"><small>#{{issue}}</small></div>
                </span>
                <span v-on:click="popStream" class="list-link slim border-lite  bgcolor-wh flex end">
                  <div class="hidden full"><small><i class="fa fa-fw fa-pencil"></i>Open Streams</small></div>
                </span>
              </div>
              <span v-on:click="toggleStreamOpened('channels_d')" class="list-link border-lite color full bgcolor-disable flex end">
                <div class="hidden full"><i class="fa fa-fw fa-gamepad"></i>Discord Channels</div>
                <small>未</small>
              </span>
              <span v-if="stream_opened == 'channels'" v-for="issue in stream_channels" v-on:click="return;runMulti('Discord', issue);reopenWsMulti('Discord', issue);multi_opt = false;" class="list-link slim border-lite full bgcolor-wh flex end">
                <div class="hidden full"><small>{{issue}}</small></div>
              </span>
<!--               <span v-on:click="runRefresh();" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-globe"></i>Refresh</div>
              </span> -->
            </div>
<!--             <div class="link-header"><i class="fa fa-fw fa-cog"></i>Setting</div>
            <div class="status flex wrap"> -->
<!--               <span v-on:click="popSetting" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-cog"></i>App Setting</div>
              </span> -->
<!--               <span v-on:click="openProfile" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-external-link"></i>Open Profile</div>
              </span> -->
<!--               <span v-on:click="runLogout" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-sign-out"></i>Logout</div>
              </span> -->
            <!-- </div> -->
          </div>
        </div>

        <div v-if="showLink" :class="{ 'extra': 'native' == app_mode }" class="column mini leftswipe user scrollable bgcolor-wh fixed">
          <div class="user-list">
            <div v-if="null != user.id" class="status flex">
              <img :src="checkAvatar(user.avatar_static)" class="avatar border short" v-on:click="runUser('katsu')">
              <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
              <div class="content border short">
                <div class="status-name flex start">
                  <div class="hidden full">
                    <small class="color-gr">‭@{{user.acct}}</small>
                  </div>
                  <span v-if="user.locked"><i class="fa fa-fw fa-lock"></i></span>
                  <small v-if="user.bot" class="status-info">[Bot]</small>
                </div>
                <div class="status__content">
                </div>
                <div class="action-bar flex start hidden">
                    <a v-if="0 != user.display_name.length" class="color-pk" v-html="formatEmoji(user.display_name, user.emojis)"></a>
                    <a v-else class="color-pk">{{user.username}}</a>
                </div>
              </div>
            </div>
            <div class="status flex wrap">
              <span v-on:click="popForm" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-pencil"></i>Katsu!</div>
              </span>
              <span v-on:click="runBell();notif_type = '';" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-bell"></i>Notification</div>
                <small v-if="0 != notif_unread">{{notif_unread}}</small>
              </span>
              <span v-on:click="runBell();notif_type = 'Mention'; notif_opt = true;" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-at"></i>Mention</div>
                <small v-if="0 != notif_unread_m">{{notif_unread_m}}</small>
              </span>
              <span v-on:click="popSetting" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-cog"></i>Setting</div>
              </span>
              <span v-if="!showLinkSearch" v-on:click="toggleLinkSearch" class="list-link border-lite full bgcolor-wh flex end">
                <div class="hidden full"><i class="fa fa-fw fa-search"></i>Search</div>
              </span>
              <span v-else class="search-container full flex end">
                <input v-focus type="text" v-restore-search class="underline-dash" @keyup.enter="searchAll();toggleLinkSearch();" onKeyup="inputSearch(this)"><br>
                <span v-on:click="searchAll();toggleLinkSearch();" class="bgcolor-wh border-lite"><i class="fa fa-fw fa-search"></i></span>
              </span>
            </div>
          </div>
        </div>

        <!-- STREAM -->
        <div v-show="showStream" :class="{ 'extra': 'native' == app_mode }" class="column scrollable bgcolor-wh fixed" v-on:wheel="handleWheel">
          <div class="form-option full">
            <div class="half-toast"></div>
            <div class="action-bar flex end">
              <h3>Streams</h3>
              <span>Edit: </span>
              <span v-if="showStreamEdit" v-on:click="toggleShowStreamEdit" class="color-wh bgcolor-pk button mini">ON</span>
              <span v-else v-on:click="toggleShowStreamEdit" class="color-wh bgcolor button mini">OFF</span>
            </div>
            <!-- ManageStream -->
            <div v-show="hasStreamList" class="status-list">
              <div class="link-header"><i class="fa fa-fw fa-user-circle-o"></i> Accounts <small>(List id: {{stream_list.id}})</small></div>
              <div class="flex select-container">
                <div v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link full color-wh bgcolor-disable hidden"><i class="fa fa-fw fa-pencil"></i> {{stream_list.title}}</div>
                <div v-else-if="!showStreamEdit" v-on:click="toggleShowStreamEdit" class="list-link full color-wh bgcolor hidden"><i class="fa fa-fw fa-pencil"></i> {{stream_list.title}}</div>
                <input v-focus v-show="showStreamEdit && !fetch_lock.multiws && !fetch_lock.multi && !fetch_lock.lists" type="text" v-restore-listprofile class="underline-dash" id="list_name" @keyup.enter="runListProfile" onKeyup="inputListProfile(this)">

                <span v-if="!fetch_lock.multiws && !fetch_lock.multi && !fetch_lock.lists && showStreamEdit" class="flex">
                  <span v-if="stream_list.req_profile" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                  <span v-else v-on:click="listprofile.name=issue.name;checkListProfile();document.getElementById('list_name').value=stream_list.title;toggleShowStreamEdit();" class="button mini color-wh bgcolor">Cancel</span>
                  <span v-if="stream_list.req_profile" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                  <span v-else-if="stream_list_profile_check" v-on:click="runListProfile" class="color-wh bgcolor-pk button">Save</span>
                  <span v-else class="button mini color-wh bgcolor-disable">Save</span>
                </span>

                <div v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link color-wh bgcolor-disable">Close</div>
                <div v-else v-on:click="fetchListAll(); stream_list_users=[]; stream_list_users_bu=[]; stream_list_users_relation=[]; stream_list=[];" class="list-link color-wh bgcolor-gr">Close</div>
              </div>
              <div class="flex account-bar">
                <div v-on:click="resetStreamList();fetchListAcct();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'listed' == stream_list_type }"><i class="fa fa-fw fa-user-o"></i>Listed</div>
                <div v-on:click="resetStreamList();runListSearch();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'search' == stream_list_type }"><i class="fa fa-fw fa-search"></i>Search</div>
                <div v-on:click="resetStreamList();fetchListFollow();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follow' == stream_list_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follow</div>
<!--                 <div v-on:click="resetStreamList();fetchListFollower();" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follower' == stream_list_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follower</div> -->
              </div>
              <div class="status-list">
                <div v-if="'search'==stream_list_type" class="action-bar bgcolor-wh flex center">
                  <small>フォローしているアカウントから探す</small>
                  <input type="checkbox" id="checkfollowing" class="invisible" v-model="stream_list_following">
                  <label v-if="stream_list_following" for="checkfollowing" class="button color-wh bgcolor-pk">ON</label>
                  <label v-else for="checkfollowing" class="button color-wh bgcolor">OFF</label>
                </div>
                <div v-if="'search'==stream_list_type" class="search-container action-bar bgcolor-wh flex center">
                  <input v-focus type="text" v-restore-search class="underline-dash" @keyup.enter="fetchListSearch" onKeyup="inputSearch(this)"><br>
                  <span v-if="fetch_lock.lists" class="button color-wh bgcolor">Search</span>
                  <span v-else v-on:click="fetchListSearch" class="button color-wh bgcolor-gr">Search</span>
                </div>
                <div v-for="issue in stream_list_users" class="status flex">
                  <img :src="checkAvatar(issue.avatar_static)" class="avatar border" v-on:click="showStream = false; runAcct(issue.id);">
                  <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden full">
                        <a v-if="0 != issue.display_name.length" class="color-pk" v-html="formatEmoji(issue.display_name, issue.emojis)"></a>
                        <a v-else class="color-pk">{{issue.username}}</a>
                        <small class="color-gr">‭@{{issue.acct}}</small>
                      </div>
                      <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span>
                      <small v-if="issue.bot" class="status-info">[Bot]</small>
                    </div>
                    <div class="status__content">
                    </div>
                    <div class="action-bar flex end">
                      <i></i>
                      <div v-if="user.id != issue.id">
                        <span v-if="issue.req_list" class="button mini color-wh bgcolor"><i class="fa fa-fw fa-spinner fa-pulse"></i></span>
                        <span v-else-if="!isListFollow(issue.id)" class="button mini color-wh bgcolor-disable">Add</span>
                        <span v-else-if="isList(issue.id)" v-on:click="actUnList(issue)" class="button mini color-wh bgcolor-pk">Remove</span>
                        <span v-else-if="!isList(issue.id)" v-on:click="actList(issue)" class="button mini color-wh bgcolor">Add</span>
                      </div>
                      <i v-on:click="showStream = false; runAcct(issue.id);" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <div v-if="'follow'==stream_list_type && !isListFollowMax" class="search-container action-bar bgcolor-wh flex center">
                  <span v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="full color-wh bgcolor-disable button">Next</span>
                  <span v-else v-on:click="fetchListFollow" class="full color-wh bgcolor-gr button">Next</span>
                </div>
              </div>
            </div>
            <!-- Normal -->
            <div v-show="!hasStreamList" class="status-list">
              <div class="link-header"><i class="fa fa-fw fa-list"></i> Lists</div>
              <div v-for="issue in stream_lists" class="flex select-container">
                <i v-if="showStreamEdit && (fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists)" class="fa fa-fw fa-times color-disable"></i>
                <i v-else-if="showStreamEdit" v-on:click="runRemoveList(issue.id);" class="fa fa-fw fa-times"></i>
                <div v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link full color-wh bgcolor-disable hidden">{{issue.title}}</div>
                <div v-else v-on:click="showStream=false;runMulti('List', issue.id);reopenWsMulti('List', issue);multi_opt=false;showStreamEdit=false;" class="list-link full color-wh bgcolor hidden">{{issue.title}}</div>
                <div v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="list-link color-wh bgcolor-disable"><i class="fa fa-fw fa-user-o"></i></div>
                <div v-else v-on:click="stream_list=issue;listprofile.name=issue.title;checkListProfile();document.getElementById('list_name').value=issue.title;fetchListAcctBackup();fetchListAcct();" class="list-link color-wh bgcolor"><i class="fa fa-fw fa-user-o"></i></div>
              </div>
              <div v-show="showStreamEdit && !isListMax" class="select-container list bgcolor-wh flex center">
                <input type="text" v-restore-list class="underline-dash" id="list_name_new" @keyup.enter="runAddList" onKeyup="inputList(this);"><br>
                <span v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists" class="color-wh bgcolor-disable button"><i class="fa fa-fw fa-spinner fa-pulse color-wh"></i></span>
                <span v-else-if="stream_list_text_check" v-on:click="runAddList" class="color-wh bgcolor-pk button">Add</span>
                <span v-else class="color-wh bgcolor-disable button">Add</span>
              </div>
              <div v-show="!showStreamEdit || isListMax" class="flex">
                <div v-if="fetch_lock.multiws || fetch_lock.multi || fetch_lock.lists || isListMax" class="list-link full color-wh bgcolor-disable hidden"><i class="fa fa-fw fa-plus"></i> New List</div>
                <div v-else v-on:click="toggleShowStreamEdit" class="list-link full color-wh bgcolor hidden"><i class="fa fa-fw fa-plus"></i> New List</div>
              </div>
              <!-- -->
              <div class="link-header"><i class="fa fa-fw fa-hashtag"></i> Hashtags</div>
              <div v-for="issue in stream_hashtags" class="flex select-container">
                <i v-if="showStreamEdit" v-on:click="removeStreamHashtag(issue);" class="fa fa-fw fa-times"></i>
                <div v-if="fetch_lock.multiws || fetch_lock.multi" class="list-link full color-wh bgcolor-disable hidden">#{{issue}}</div>
                <div v-else v-on:click="showStream=false;runMulti('Hashtag', issue);reopenWsMulti('Hashtag', issue);multi_opt=false;showStreamEdit=false;" class="list-link full color-wh bgcolor hidden">#{{issue}}</div>
              </div>
              <div v-show="showStreamEdit && !isHashtagMax" class="select-container bgcolor-wh flex center">
                <input type="text" v-restore-search class="underline-dash" id="hashtag_name_new" @keyup.enter="checkStreamHashtag();" onKeyup="inputSearch(this)"><br>
                <span v-on:click="checkStreamHashtag();" class="color-wh bgcolor-gr button">Check</span>
                <span v-if="fetch_lock.stream" class="color-wh bgcolor-disable button"><i class="fa fa-fw fa-spinner fa-pulse color-wh"></i></span>
                <span v-else-if="stream_hashtag_text == ''" class="color-wh bgcolor-disable button">Add</span>
                <span v-else v-on:click="addStreamHashtag" class="color-wh bgcolor-pk button">Add</span>
              </div>
              <div v-show="!showStreamEdit || isHashtagMax" class="flex">
                <div v-if="fetch_lock.multiws || fetch_lock.multi || isHashtagMax" class="list-link full color-wh bgcolor-disable hidden"><i class="fa fa-fw fa-plus"></i> New Hashtag</div>
                <div v-else v-on:click="toggleShowStreamEdit" class="list-link full color-wh bgcolor hidden"><i class="fa fa-fw fa-plus"></i> New Hashtag</div>
              </div>
              <!-- -->
              <div class="link-header"><i class="fa fa-fw fa-gamepad"></i> Discord Channels</div>
              <div v-for="issue in stream_channels" class="flex">
                <div v-if="fetch_lock.multiws || fetch_lock.multi" class="list-link full color-wh bgcolor-disable hidden">{{issue}}</div>
                <div v-else v-on:click="return;showStream=false;runMulti('Discord', issue);reopenWsMulti('Discord', issue);multi_opt=false;showStreamEdit=false;" class="list-link full color-wh bgcolor-disable hidden">{{issue}}</div>
              </div>
            </div>
<!--             <div class="flex center">
              <span class="button list-link close full color-wh bgcolor-gr" v-on:click="showStream = false;">Close</span>
            </div> -->
            <div v-show="hasStreamList" class="flex info-wrapper">
              <span v-if="fetch_lock.lists"><i class="fa fa-fw fa-spinner fa-pulse"></i>Account Loading...</span>
              <span v-else-if="fetch_comp.lists">All Loaded</span>
            </div>
          </div>
        </div>
        <!-- SEARCH -->
        <div v-if="showSearch" :class="{ 'extra': 'native' == app_mode }" class="column scrollable bgcolor-wh fixed" v-on:wheel="handleWheel">
          <div class="form-option">
            <div class="half-toast"></div>
            <div class="status-list">

              <div class="search-container action-bar bgcolor-wh flex center">
                <input v-focus type="text" v-restore-search class="underline-dash" @keyup.enter="searchAll" onKeyup="inputSearch(this)"><br>
                <span v-if="fetch_lock.search" class="button color-wh bgcolor-disable">Search</span>
                <span v-else v-on:click="searchAll" class="button color-wh bgcolor-gr">Search</span>
              </div>

              <div v-if="searchs.hashtags && 0 != searchs.hashtags.length"><i class="fa fa-fw fa-hashtag"></i>Hashtag</div>
              <div class="status flex wrap">
                <span v-for="issue in searchs.hashtags" v-on:click="runMulti('Hashtag', issue);reopenWsMulti('Hashtag', issue);" class="list-link border-lite full color-pk bgcolor-wh">#{{issue}}</span>
              </div>

              <div v-if="searchs.accounts_ex && 0 != searchs.accounts_ex.length"><i class="fa fa-fw fa-user-circle-o"></i>Account</div>
              <div v-for="issue in searchs.accounts_ex" class="status flex">
                <img :src="checkAvatar(issue.avatar_static)" class="avatar border" v-on:click="showSearch = false; runAcct(issue.id);">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != issue.display_name.length" class="color-pk" v-html="formatEmoji(issue.display_name, issue.emojis)"></a>
                      <a v-else class="color-pk">{{issue.username}}</a>
                      <small class="color-gr">‭@{{issue.acct}}</small>
                    </div>
                      <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span>
                      <small v-if="issue.bot" class="status-info">[Bot]</small>
                  </div>
                  <div class="status__content">
                  </div>
                  <div class="action-bar flex end">
                    <div class="hidden nodot">
                      <i class="fa fa-fw fa-user-o color-disable"></i>
                      <small class="time">{{formatDate(issue.created_at)}}</small>
                    </div>
                    <i v-on:click="showSearch = false; runAcct(issue.id);" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>

              <div v-if="searchs.statuses && 0 != searchs.statuses.length"><i class="fa fa-fw fa-comment-o"></i>Katsu!</div>
              <div v-for="(issue, index) in searchs.statuses" class="status flex">

                <img :src="checkAvatar(issue.account.avatar_static)" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden full">
                      <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="formatEmoji(issue.account.display_name, issue.account.emojis)"></a>
                      <a v-else class="color-pk">{{issue.account.username}}</a>
                      <small class="color-gr">‭@{{issue.account.acct}}</small>
                    </div>
                    <small v-if="'public' != issue.visibility">[{{issue.visibility}}]</small>
                    <small v-if="issue.sensitive" class="status-info">[Sensitive]</small>
                  </div>
                  <div class="status__content">
                    <span v-html="formatContentS(issue.spoiler_text, issue.emojis)"></span>
                        <div v-if="0 != issue.spoiler_text.length">
                      <div v-if="!issue.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(issue, true)"><small>- SHOW MORE -</small></div>
                      <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(issue, false)"><small>- SHOW LESS -</small></div>
                      <span v-if="issue.content_opened" v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                    <div v-else>
                      <span v-html="formatContent(issue.content, issue.emojis)"></span>
                    </div>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                    <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                    </a>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper control">
                    <i v-on:click="updateMediaWrapper(issue, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                  </div>
                  <div v-if="((( optAllNsfw || issue.sensitive ) && !issue.media_opened ) || false === issue.media_opened ) && 0 != issue.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(issue, true)">
                    <h4 v-if="issue.sensitive">Sensitive contents</h4>
                    <h4 v-else>Media contents</h4>
                    <small>Click to view</small>
                  </div>
                  <div class="action-bar flex end">
                    <div class="hidden nodot">
                      <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i>
                      <small class="time">{{formatDate(issue.created_at)}}</small>
                    </div>
                    <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                    <i v-if="issue.req_reblog" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                    <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                    <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                    <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                    <i v-if="issue.req_favourite" class="fa fa-fw fa-spinner fa-pulse color-disable"></i>
                    <i v-else-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                    <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                    <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            <div class="flex info-wrapper">
              <span v-if="fetch_lock.search"><i class="fa fa-fw fa-spinner fa-pulse"></i>Searching...</span>
            </div>

            </div>
          </div>
        </div>
        <!-- KatsuForm -->
        <div v-if="showForm" :class="{ 'extra': 'native' == app_mode }" class="column scrollable bgcolor-wh fixed"  v-on:wheel="handleWheel">
          <div class="half-toast"></div>
          <div class="status-list">

            <div class="form-wrapper bgcolor-wh">
              <div v-if="showKatsuDraft" class="form-option underline-dash">
                <div class="action-bar flex end draft">

                  <img :src="checkAvatar(user.avatar)" class="avatar mini" v-on:click="showForm = false; runAcct(user.id);">
                  <span>(下書き保存)</span>
                  <i v-if="checkKatsu() && 2 > katsu_drafts.length" v-on:click="katsuToDraft()" class="fa fa-fw fa-floppy-o"></i>
                  <i v-else class="fa fa-fw fa-floppy-o color-disable"></i>
                  <!-- <span class="full text center">(下書き保存)</span> -->
                </div>
                <div v-for="(draft, index) in katsu_drafts" class="action-bar flex end draft">
                  <i v-on:click="draftToKatsu(index, true)" class="fa fa-fw fa-arrow-up"></i>
                  <span class="full text center hidden">{{draft.spoiler_text}}{{draft.status}}</span>
                  <i v-if="null != draft.in_reply_to_id" class="fa fa-fw fa-reply color-disable"></i>
                  <i v-if="0 < draft.media_attachments.length" class="fa fa-fw fa-photo color-disable"></i>
                </div>
              </div>
            </div>

            <div v-if="hasReply" class="status-header bgcolor-wh">
              <i class="fa fa-fw fa-reply"></i>
              <span> reply to</span>
              <span v-if="0 != katsu.reply.account.display_name.length" class="color-pk" v-html="formatEmoji(katsu.reply.account.display_name, katsu.reply.account.emojis)"></span>
              <span v-else class="color-pk">{{katsu.reply.account.username}}</span>
            </div>
            <div v-if="hasReply" class="status flex form bgcolor-wh underline-dash">
              <img :src="checkAvatar(katsu.reply.account.avatar_static)" class="avatar border" v-on:click="runAcct(katsu.reply.account.id)">
              <div class="content-before"><svg width="12" height="14"><use xlink:href="#cb"></use></svg></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden full">
                    <a v-if="0 != katsu.reply.account.display_name.length" class="color-pk" v-html="formatEmoji(katsu.reply.account.display_name, katsu.reply.account.emojis)"></a>
                    <a v-else class="color-pk">{{katsu.reply.account.username}}</a>
                    <small class="color-gr">‭@{{katsu.reply.account.acct}}</small>
                  </div>
                  <small v-if="'public' != katsu.reply.visibility">[{{katsu.reply.visibility}}]</small>
                  <small v-if="katsu.reply.sensitive" class="status-info">[Sensitive]</small>
                </div>
                <div class="status__content">
                  <span v-html="formatContentS(katsu.reply.spoiler_text, katsu.reply.emojis)"></span>
                  <div v-if="0 != katsu.reply.spoiler_text.length">
                    <div v-if="!katsu.reply.content_opened" class="spoller_link color-wh bgcolor-pk" v-on:click="updateContentWrapper(reply, true)"><small>- SHOW MORE -</small></div>
                    <div v-else class="spoller_link color-wh bgcolor" v-on:click="updateContentWrapper(reply, false)"><small>- SHOW LESS -</small></div>
                    <span v-if="katsu.reply.content_opened" v-html="formatContent(katsu.reply.content, issue.reply.emojis)"></span>
                  </div>
                  <div v-else>
                    <span v-html="formatContent(katsu.reply.content, katsu.reply.emojis)"></span>
                  </div>
                </div>
                <div v-if="0 != katsu.reply.media_attachments" class="media-wrapper flex">
                  <a v-for="media in katsu.reply.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="checkMedia(media.preview_url)" :alt="media.description" :title="media.description" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                  </a>
                </div>
                <div v-if="0 != katsu.reply.media_attachments" class="media-wrapper control">
                  <i v-on:click="updateMediaWrapper(reply, false)" class="fa fa-fw fa-eye bgcolor-wh eye"></i>
                </div>
                <div v-if="((( optAllNsfw || katsu.reply.sensitive ) && !katsu.reply.media_opened ) || false === katsu.reply.media_opened ) && 0 != katsu.reply.media_attachments" class="media-wrapper bluesheet" v-on:click="updateMediaWrapper(reply, true)">
                  <h4 v-if="katsu.reply.sensitive">Sensitive contents</h4>
                  <h4 v-else>Media contents</h4>
                  <small>Click to view</small>
                </div>
                <div class="action-bar flex end">
                  <div class="hidden">
                    <i class="fa fa-fw fa-paperclip color-disable"></i>
                    <small class="time">{{formatDate(katsu.reply.created_at)}}</small>
                  </div>
                  <i v-on:click="addContent(katsu.reply.url); katsu['in_reply_to_id'] = ''; katsu.reply = [];" class="fa fa-fw fa-arrow-circle-down"></i>
                  <i v-on:click="katsu['in_reply_to_id'] = ''; katsu.reply = [];" class="fa fa-fw fa-times"></i>
                </div>
              </div>
            </div>

            <div class="form-wrapper bgcolor-wh">

              <div v-show="showSpoiler" class="form-option underline-dash">
                <div class="flex center">
                  <div v-on:click="addSpoiler('<コンプラ>')" class="color-wh bgcolor button full"><small>コンプラ</small></div>
                  <div v-on:click="addSpoiler('<ネタバレ>')" class="color-wh bgcolor button full"><small>ネタバレ</small></div>
                  <div v-on:click="addSpoiler('<R-18>')" class="color-wh bgcolor button full"><small>R-18</small></div>
                </div>
                <div class="flex center">
                  <small class="full text center">とりあえず<br>ダメそうならコレ</small>
                  <small class="full text center">アニメやゲームが<br>まだの人に配慮</small>
                  <small class="full text center">年齢制限が必要な<br>描写を含む内容</small>
                </div>
                <div class="action-bar flex end">
                  <div class="spoiler-left">
                    <i v-if="'' == katsu_spoiler_text" v-on:click="restoreSpoiler" class="fa fa-fw fa-exclamation-triangle color-disable"></i>
                    <i v-else v-on:click="disableSpoiler" class="fa fa-fw fa-exclamation-triangle"></i>

                    <i v-on:click="contentExchange" class="fa fa-fw fa-exchange"></i>
                  </div>
                  <textarea type="text" id="katsu_spoiler" v-restore-s class="spoiler-input border-lite" placeholder="Content warning" @keydown="keyKatsu" onKeyup="autogrow(this)"></textarea>
                </div>
              </div>

              <div class="flex center underline-dash">
                <div class="form-option full">
                  <textarea v-focus type="text" id="katsu_content" v-restore-c class="content-input border-lite" placeholder="What is on your mind?" @keydown="keyKatsu" onkeyup="autogrow(this)"></textarea>
                </div>
              </div>

              <div v-if="showDraft" class="form-option underline-dash">
                <div v-if="5 > content_text_drafts.length" class="action-bar flex end draft">
                  <i v-if="0 == contentLength()" class="fa fa-fw fa-floppy-o color-disable"></i>
                  <i v-else v-on:click="contentToDraft()" class="fa fa-fw fa-floppy-o"></i>
                  <span v-if="0 == contentLength()" class="full text center">(入力ショートカットに登録)</span>
                  <span v-else class="full text center">(入力ショートカットに登録)</span>
                </div>
                <div v-for="(draft, index) in content_text_drafts" class="action-bar flex end draft">
                  <i v-on:click="draftToContent(index, false)" class="fa fa-fw fa-copy"></i>
                  <i v-on:click="draftToContent(index, true)" class="fa fa-fw fa-arrow-up"></i>
                  <span class="full text center hidden" v-html="formatEmojiDraft(draft, user.emojis)"></span>
                </div>
              </div>

              <div v-if="showFileImporter" class="form-option">
                <div class="flex">
                  <span class="color-wh bgcolor-disable full button">Drop to upload</span>
                </div>
              </div>
              <div v-if="0 != katsu['media_previews'].length" class="form-option underline-dash">
                <div class="media-wrapper flex">
                  <a v-for="(media, index) in katsu['media_previews']" @click="modal = media;showModal = true;">
                    <img v-if="null != katsu['media_attachments'][index] && ('image' == katsu['media_attachments'][index].type || 'image' == katsu['media_previews'][index].type)" :src="katsu['media_previews'][index].url" class="media">
                    <img v-else-if="'image' == katsu['media_previews'][index].type" :src="media.url" class="media gray">

                    <img v-else-if="null != katsu['media_attachments'][index] && ('video' == katsu['media_attachments'][index].type || 'gifv' == katsu['media_attachments'][index].type)" :src="katsu['media_attachments'][index].preview_url" class="media">
                    <img v-else-if="'video' == katsu['media_previews'][index].type || 'gifv' == katsu['media_previews'][index].type" :src="media.preview_url" class="media gray">

                    <i v-if="(null != katsu['media_attachments'][index] && ('video' == katsu['media_attachments'][index].type)) || ('video' == katsu['media_previews'][index].type)" class="fa fa-fw fa-play-circle-o media-type color-pk"></i>
                  </a>
                </div>
                <div class="flex center">
                  <div v-for="(media, index) in katsu['media_previews']" class="full">
                    <div v-if="null != katsu['media_attachments'][index]" v-on:click="katsu['media_previews'].splice(index,1);katsu['media_attachments'].splice(index,1);" class="color-wh bgcolor-pk button"><small>Remove</small></div>
                    <div v-else class="color-wh bgcolor-disable button full"><small>...</small></div>
                  </div>
                </div>
                <div class="flex end action-bar">
                  <span>メディアを隠す(NSFW)</span>
                  <div v-if="true === katsu['nsfw']" v-on:click="katsu['nsfw'] = false;" class="button color-wh bgcolor-pk">ON</div>
                  <div v-else v-on:click="katsu['nsfw'] = true;" class="button color-wh bgcolor">OFF</div>
                </div>
              </div>

              <div v-if="showVisible" class="form-option underline-dash">
                <div class="flex center">
                  <div v-on:click="katsu['visibility'] = 'public';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'unlisted' != katsu['visibility'] && 'private' != katsu['visibility'] && 'direct' != katsu['visibility'] }"><i class="fa fa-fw fa-globe"></i><small>public</small></div>
                  <div v-on:click="katsu['visibility'] = 'unlisted';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'unlisted' == katsu['visibility'] }"><i class="fa fa-fw fa-unlock-alt"></i><small>unlist</small></div>
                  <div v-on:click="katsu['visibility'] = 'private';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'private' == katsu['visibility'] }"><i class="fa fa-fw fa-lock"></i><small>private</small></div>
                  <div v-on:click="katsu['visibility'] = 'direct';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'direct' == katsu['visibility'] }"><i class="fa fa-fw fa-envelope"></i><small>direct</small></div>
                </div>
                <div class="flex center">
                  <small class="full text center">全体に公開</small>
                  <small class="full text center">ローカルTL<br>に流さない</small>
                  <small class="full text center">フォロワー<br>だけに公開</small>
                  <small class="full text center">宛先の人<br>だけに公開</small>
                </div>
              </div>

              <input type="file" accept=".jpg,.jpeg,.png,.gif,.webm,.mp4,.m4v,image/jpeg,image/png,image/gif,video/webm,video/mp4" name="file" id="uploader" class="invisible" onchange="preview(this.files)">

              <div class="action-bar flex wrap form-option underline-dash">
                <div class="color bgcolor-in">
                  <label v-if="4 > katsu['media_previews'].length && katsu['media_previews'].length == katsu['media_attachments'].length" for="uploader"><i class="fa fa-fw fa-camera"></i></label>
                  <i v-else class="fa fa-fw fa-camera color-disable"></i>
                  <i class="fa fa-fw fa-smile-o"  @click="showEmojiPicker = true; popEmoji();"></i>
                  <i v-on:click="toggleDraft()" class="fa fa-fw fa-th-list"></i>
                  <i v-if="'direct' == katsu['visibility']" v-on:click="toggleVisible()" class="fa fa-fw fa-envelope"></i>
                  <i v-else-if="'private' == katsu['visibility']" v-on:click="toggleVisible()" class="fa fa-fw fa-lock"></i>
                  <i v-else-if="'unlisted' == katsu['visibility']" v-on:click="toggleVisible()" class="fa fa-fw fa-unlock-alt"></i>
                  <i v-else v-on:click="toggleVisible()" class="fa fa-fw fa-globe"></i>
                  <i v-on:click="toggleSpoiler()" class="fa fa-fw fa-exclamation-triangle"></i>
                </div>
                <div class="flex end katsu-ctrl">
                  <div class="katsu-count">{{500 - spoilerLength() - contentLength()}}</div>
                  <div v-if="katsu.req_katsu" class="color-wh bgcolor-disable button micro"><i class="fa fa-fw fa-spinner fa-pulse"></i></div>
                  <div v-else-if="checkKatsu()" v-on:click="actKatsu(katsu)" class="color-wh bgcolor-gr button">KATSU!</div>
                  <div v-else class="color-wh bgcolor-disable button">KATSU!</div>
                </div>
              </div>

              <div class="action-bar form-option underline-dash">
                <div class="flex end action-bar">
                  <span>🔥 お知らせ 🔥</span>
                  <small>20180126(v1.2.7)</small>
                </div>
                <span>新しい機能に向けてメニューと操作を追加したよ</span><br>
                <span>設定アイコンは、リスト機能にする予定だから、</span><br>
                <span>新しいアイコンや、スワイプで呼び出してね。</span><br>
                <span>実況カラムみたいな大きな更新が多いから、</span><br>
                <span>慎重に進めてていくね。</span><br>
              </div>

            </div>
          </div>
        </div>
        <!-- SETTING -->
        <div v-if="showSetting" :class="{ 'extra': 'native' == app_mode }" class="column scrollable bgcolor-wh fixed" v-on:wheel="handleWheel">
          <div class="status-list">
            <div class="setting-wrapper">

              <h3 class="setting-header">📛📛📛 WebApp Setting 📛📛📛</h3>
              <h3><i class="fa fa-fw fa-wrench"></i> Layout: 端末を選んでカラム数を決めてね</h3>
              <div class="flex end action-bar"><span>{{ optColumns }} Column(s) </span></div>
              <div class="flex end action-bar">
                <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optColumns }" for="cone" v-on:click="optColumns = 1;runCustom();">Mobile</label>
                <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optColumns }" for="ctwo" v-on:click="optColumns = 2;runCustom();">Tablet</label>
                <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 3 == optColumns }" for="cthree" v-on:click="optColumns = 3;runCustom();">PC</label>
              </div>
              <div class="flex end action-bar">
                <span>Primary Column</span>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optPtl }" for="tone" v-on:click="optPtl = 1;runCustom();">Local</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optPtl }" for="ttwo" v-on:click="optPtl = 2;runCustom();">Home</label>
              </div>
              <div class="flex end action-bar">
                <span>WideColumn Mode</span>
                <input type="checkbox" id="checkwide" class="invisible" v-model="optColumnWide">
                <label v-if="optColumnWide" for="checkwide" class="button color-wh bgcolor-pk">ON</label>
                <label v-else for="checkwide" class="button color-wh bgcolor">OFF</label>
              </div>
              <div class="flex end action-bar">
                <span>AutoLayout</span>
                <input type="checkbox" id="checkauto" class="invisible" v-model="optAutoLayout">
                <label v-if="optColumnWide" for="checkwide" class="button color-wh bgcolor-disable">OFF</label>
                <label v-else-if="optAutoLayout" for="checkauto" class="button color-wh bgcolor-pk">ON</label>
                <label v-else for="checkauto" class="button color-wh bgcolor">OFF</label>
              </div>

              <h3><i class="fa fa-fw fa-photo"></i> View: 表示をアレンジしちゃおう </h3>
              <div class="flex end action-bar">
              <span>Media AutoPlay</span>
                <input type="radio" class="invisible" id="vone" value="1" v-model="optAutoPlay">
                <input type="radio" class="invisible" id="vtwo" value="2" v-model="optAutoPlay">
                <!-- <input type="radio" class="invisible" id="vthree" value="3" v-model="optAutoPlay"> -->
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optAutoPlay }" for="vone">OFF</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optAutoPlay }" for="vtwo">GIF</label>
                <label class="button color-wh bgcolor-disable" for="">ALL</label>
              </div>
              <div class="flex end action-bar">
                <span>Change Media Height</span>
                <input type="radio" class="invisible" id="hone" value="" v-model="optMediaHeight">
                <input type="radio" class="invisible" id="htwo" value="tall" v-model="optMediaHeight">
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optMediaHeight }" for="hone">x1</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'tall' == optMediaHeight }" for="htwo">x2</label>
              </div>
              <div class="flex end action-bar">
                <span>Media AllNSFW(TL)</span>
                <input type="checkbox" id="checknsfw" class="invisible" v-model="optAllNsfw">
                <label v-if="optAllNsfw" for="checknsfw" class="button color-wh bgcolor-pk">ON</label>
                <label v-else for="checknsfw" class="button color-wh bgcolor">OFF</label>
              </div>

              <h3><i class="fa fa-fw fa-check-square-o"></i> Confirm: 確認ウィンドウの設定をしてね </h3>
              <div class="flex end">
                <small v-on:click="optConfirm['fav'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['fav'] }">Fav</small>
                <small v-on:click="optConfirm['unfav'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unfav'] }">UnFav</small>
                <small v-on:click="optConfirm['reblog'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['reblog'] }">Boost</small>
                <small v-on:click="optConfirm['unreblog'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unreblog'] }">UnBoost</small>
              </div>
              <div class="flex end">
                <small v-on:click="optConfirm['katsu'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['katsu'] }">Katsu!</small>
                <small v-on:click="optConfirm['delete'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['delete'] }">Delete</small>
                <small v-on:click="optConfirm['follow'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['follow'] }">Follow</small>
                <small v-on:click="optConfirm['unfollow'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unfollow'] }">Remove</small>
              </div>
              <div class="flex end">
                <small v-on:click="optConfirm['mute'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['mute'] }">Mute</small>
                <small v-on:click="optConfirm['unmute'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unmute'] }">UnMute</small>
                <small v-on:click="optConfirm['block'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['block'] }">Block</small>
                <small v-on:click="optConfirm['unblock'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unblock'] }">UnBlock</small>
              </div>

              <h3><i class="fa fa-fw fa-paint-brush"></i> Theme: 見た目のカスタマイズができるよ </h3>
              <div class="flex end action-bar"><span>Tops, Shoes</span></div>
              <div class="flex end">
                <label v-on:click="optThemeTops = 'tp_diadark'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'tp_diadark' == optThemeTops }">Mastodon Dark Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeTops = ''" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optThemeTops }">kktCSS Magenta Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeTops = 'tp_diablue'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'tp_diablue' == optThemeTops }">bbv DeepBlue Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeTops = 'tp_diagreen'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'tp_diagreen' == optThemeTops }">Pirouette Green Diamonds</label>
              </div>
              <div class="flex end action-bar"><span>Bottoms</span></div>
              <div class="flex end">
                <label v-on:click="optThemeBottoms = 'bm_diadark'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'bm_diadark' == optThemeBottoms }">Mastodon Dark Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeBottoms = ''" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optThemeBottoms }">kktCSS Green Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeBottoms = 'bm_diawhite'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'bm_diawhite' == optThemeBottoms }">bbv SandyWhite Diamonds</label>
              </div>
              <div class="flex end">
                <label v-on:click="optThemeBottoms = 'bm_diaorange'" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 'bm_diaorange' == optThemeBottoms }">Pirouette Orange Diamonds</label>
              </div>

              <h3><i class="fa fa-fw fa-bell"></i> Notif: 通知の内容を選んでね </h3>
              <div class="flex end wrap action-bar">
                <span>Boop Sound</span>
                <div class="flex end">
                  <label v-on:click="optThemeSound = 'off'" class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'off' == optThemeSound }" >OFF</label>
                  <label v-on:click="playSound('sound'); optThemeSound = ''" class="button color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optThemeSound }" >Mastodon</label>
                  <label class="button color-wh bgcolor-disable" :class="{ 'bgcolor-pk': 'ex' == optThemeSound }" >Excellent</label>
                </div>
              </div>
              <div class="flex end action-bar">
                <div>Toast Notif</div>
                <label v-if="optShortNotif" v-on:click="optShortNotif = false; dummy = !dummy;" class="button color-wh bgcolor-pk">ON</label>
                <label v-else v-on:click="optShortNotif = true; dummy = !dummy;" class="button color-wh bgcolor">OFF</label>
              </div>
              <div class="flex end action-bar">
                <span>Desktop Notifications(PC)</span>
                <label v-if="optPushNotif" v-on:click="optPushNotif = false; dummy = !dummy;" class="button color-wh bgcolor-pk">ON</label>
                <label v-else v-on:click="optPushNotif = true; dummy = !dummy;" class="button color-wh bgcolor">OFF</label>
              </div>

              <h3><i class="fa fa-fw fa-bomb"></i> Expert: 更に表示をアレンジしちゃおう </h3>
              <div class="flex end action-bar">
                <span>Trim Katsu</span>
                <input type="radio" class="invisible" id="tone" value="" v-model="optKatsuTrim">
                <input type="radio" class="invisible" id="ttwo" value="no-margin" v-model="optKatsuTrim">
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optKatsuTrim }" for="tone">OFF</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'no-margin' == optKatsuTrim }" for="ttwo">Margin</label>
                <label class="button color-wh bgcolor-disable" for="">1 Line</label>
              </div>

              <div class="flex end action-bar">
                <span>Katsu Filter(TL)</span>
                <small v-if="'word' == optKatsuFilter">カンマ区切りで入力してね<br>(ex. テスト,てすと,test)(10個まで)</small>
                <small v-else-if="'regex' == optKatsuFilter">正規表現にも対応してるよ<br>(ex. [\s\S]{140})(140字以上のカツ)</small>
              </div>
              <div class="flex end action-bar">
                <small>{{result_text_tmp}}</small>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optKatsuFilter }" v-on:click="optKatsuFilter = '';updateFilterAll();">OFF</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'word' == optKatsuFilter }" v-on:click="optKatsuFilter = 'word';">Words</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'regex' == optKatsuFilter }" v-on:click="optKatsuFilter = 'regex';">Regex</label>
              </div>
              <div v-if="'' != optKatsuFilter" class="search-container action-bar bgcolor-wh flex center">
                <input type="text" v-restore-kfr class="underline-dash" @keyup.enter="updateFilterAll" onKeyup="inputKatsuFilterRaw(this)"><br>
                <label v-on:click="updateFilterAll" class="button color-wh bgcolor-gr">Apply</label>
              </div>
              <div v-if="'regex' == optKatsuFilter" class="flex end action-bar">
                <small>new regexp('設定値').test('注意文'+'本文(HTMLなし)')</small>
              </div>

              <div class="flex end action-bar"><span>Display All(your own risk)</span></div>
              <div class="flex end action-bar">
                <dummy></dummy>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': '' == optAllOpen }" v-on:click="optAllOpen = ''; updateWrapperAll();">OFF</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'media' == optAllOpen }" v-on:click="optAllOpen = 'media'; updateWrapperAll();">Media</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'katsu' == optAllOpen }" v-on:click="optAllOpen = 'katsu'; updateWrapperAll();">Katsu</label>
                <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 'both' == optAllOpen }" v-on:click="optAllOpen = 'both'; updateWrapperAll();">Both</label>
              </div>

              <div class="flex end action-bar">
                <!-- <label v-on:click="popSetting" class="button full main color-wh bgcolor">Close</label> -->
                <label v-on:click="runSetting" class="button full main color-wh bgcolor-gr">Save</label>
              </div>

              <br>

<!--               <h3><i class="fa fa-fw fa-bell"></i> Manage: </h3>

              <div class="flex end action-bar">
                <label v-on:click="runReset" class="button full color-wh bgcolor">Reset Setting</label>
                <label v-on:click="runClear" class="button full color-wh bgcolor-pk">Delete Setting</label>
              </div> -->

              <h3 class="setting-header">📛📛📛 Account Setting 📛📛📛</h3>
              <div class="flex end action-bar">
                <label v-on:click="openProfile" class="button full color-wh bgcolor-pk">Open Profile</label>
              </div>

              <div class="flex end action-bar">
                <label v-on:click="runLogout" class="button full color-wh bgcolor-pk">Logout</label>
              </div>

              <br>

              <h3 class="setting-header">🍨🍨🍨 アプリ推奨環境 🍨🍨🍨</h3>
              <small>
                Windows chrome/vivaldi/firefox<br>
                macOS chrome/safari/firefox<br>
                Android(4.4以上) chrome58+WebApp化(ホーム画面に追加)<br>
                iOS(10以上) safari+WebApp化(ホーム画面に追加)<br>
              </small><br>
              <h4>Androidで表示がおかしい時は、chromeを更新してみて</h4>
              <h4>バグは <span v-on:click="search_tag='kktjs';runMulti('Hashtag', search_tag);reopenWsMulti('Hashtag', search_tag);" class="color-pk">#kktjs</span> を付けてカツ!してくれると嬉しいかな。</h4>
              <h4>私(<span v-on:click="runAcct(17)" class="color-pk">@sumire</span>)に直接送ってくれても大丈夫だよ。</h4>

              <h3 class="setting-header">🍨🍨🍨アイコンについて🍨🍨🍨</h3>
              <img class="appicon" src="/kktjs/img/touch/apple-touch-icon.png" alt=""><br>
              <small>
                kktjs WebApp Icon is a derivative of <a href="https://github.com/southrop/kirakiratter_design/">"Kirakiratter Design Logo"</a> by ロップ / <a href="https://github.com/southrop/kirakiratter_design/blob/master/logo/LICENSE">CC BY 4.0</a>. <br>
                kktjs WebApp Icon is licensed under <a href="https://creativecommons.org/licenses/by/4.0/deed.ja">CC BY 4.0</a> by Sumire.<br>
              </small>
              <h3 class="setting-header">🍨🍨🍨 開発ステータス 🍨🍨🍨</h3>
              <h3>アプリで使える機能(v1.4)</h3>
              <small>
                ログイン/ログアウト/Webアプリ設定<br>
                カツ!機能(メディア投稿,CW,NSFW,絵文字入力)<br>
                ドラッグ＆ドロップでメディア投稿(PC)<br>
                キーボードショートカット(カツ!/検索)<br>
                Home/Local/通知/タグ TLのカツ!ストリーム取得/削除<br>
                Home/Local/通知/Fav済/ユーザー/タグ のカツ!一覧取得<br>
                Home/Local/通知/Fav済/ユーザー/タグ を遡って取得<br>
                リストの一覧を取得<br>
                リスト TLのカツ!ストリーム取得/削除<br>
                リスト TLのカツ!一覧取得<br>
                リスト TLのカツ!を遡って取得<br>
                リストの追加/削除<br>
                リストに登録済みのアカウント一覧 取得<br>
                リストにアカウントを登録/解除<br>
                Home/Local TLのカツ!フィルタ<br>
                アカウント検索機能<br>
                カスタム絵文字の表示<br>
                カツ!の CW/NSFW,画像/ビデオ/gifv(ループ再生) 表示<br>
                カツ!詳細のお気に入り/ブーストしたアカウント一覧 取得<br>
                ユーザー情報/フォロー情報/カツ!詳細(+OGP展開) 取得<br>
                ピン留めカツ! の取得<br>
                フォロー/フォロワー 一覧取得<br>
                フォロー/フォロワー 一覧を遡って取得<br>
                フォローリクエスト中のアカウント一覧 取得<br>
                フォローリクエスト中のアカウントの 認証/拒否<br>
                フォローリクエスト数を表示<br>
                検索した結果(アカウント/タグ) 取得<br>
                お気に入り/ブースト/フォロー の登録/解除<br>
                カツ!/お気に入り/ブースト/フォロー の確認ウィンドウ<br>
                ミュート/ブロック の登録/解除、確認ウィンドウ<br>
                リストにアカウントを登録/解除、確認ウィンドウ<br>
                ピン留め の登録/解除、確認ウィンドウ<br>
                カツ!の 削除<br>
                カツ!の 通報<br>
                プロファイル編集(名前のみ)<br>
                ヘッダアイコンのカラム移動機能<br>
                デスクトップ通知(PC)と、通知音再生<br>
                カツ!の メンション/ハッシュタグ/カツURL を開く<br>
                通信エラーの表示<br>
              </small><br>
              <h3>拡張機能(v1.4)</h3>
              <small>
                カラーテーマ機能<br>
                ショートカットメニュー<br>
                ハッシュタグ TLのショートカット登録機能<br>
                1,2,3カラム表示+Home/Local TLdetailのワイドカラム化<br>
                画面のリサイズ/回転時に最適なカラム数に切り替え<br>
                Home/Local TLの画像や映像を全て隠すオプション<br>
                Home/Local TLに 最新/上底/下底スクロールボタンを追加<br>
                Home/Local TLに カツ!表示数目標を設定(200カツ!)<br>
                リスト用検索に未フォローアカウント表示&フォロワー一覧<br>
                リストのリネーム機能<br>
                リスト数50、リスト名の文字数300を上限に設定<br>
                Local TLにしおりをはさむ機能(削除カツ未対応)<br>
                通知の未読数を表示<br>
                タグ/リスト TLのカツ!フィルタ<br>
                フォロー/フォロワー一覧 をユーザー情報内で表示<br>
                カツ!詳細/ユーザー情報 リンクのボタン化<br>
                カツ!に含まれるメディアのリンクボタン追加<br>
                カツ!の 下書きの保存<br>
                カツ!の 本文と注意文の入れ替え機能<br>
                カツ!の 入力ショートカット(タグや定型文を登録可能)<br>
                アカウントにリプを送るとき、デフォルトをunlistに変更<br>
                検索機能とアカウント検索機能の統合<br>
                EmojiOne v2.2.7 採用<br>
                nametag の 📛 tofu on fire 📛 化 (EmojiOne加工)<br>
                プロファイル(名前)のかんたんUnicodeハック機能を追加<br>
                スワイプでカラムを呼び出す機能(カラムは固定)<br>
                戻るボタンでアプリを閉じない(Android)<br>
                ヘッダに お気に入り、Webアプリ設定アイコンを追加<br>
                通知音の切替機能<br>
                通信エラーメッセージ<br>
                Local/連合 TLの切り替え機能<br>
                タグ/リスト TLの切り替え機能<br>
              </small><br>
              <h3>アプリにまだない機能(v1.4)</h3>
              <small>
                アカウントプロファイルの編集(名前以外)<br>
                カツ入力欄のサジェスト機能<br>
                カスタム絵文字入力<br>
                [完成済]ダイレクトメッセージストリーム取得/削除<br>
                photo/video/richのOGP展開<br>
                シェア機能(Web Share API対応)<br>
                ストリーミング再接続のカツ!漏れ確認<br>
                カツ!を削除して下書きに戻す機能<br>
                アカウントのブースト非表示<br>
                キーボードショートカット(アプリ操作)<br>
              </small><br>
              <h3>Mastodon/kktで対応待ちの機能(v1.4)</h3>
              <small>
                [mst v?]検索した結果(全体のカツ!) 取得<br>
              </small><br>
              <h3>追加されるかもしれない拡張機能</h3>
              <small>
                画像/動画を再圧縮してアップロード<br>
                インスタンスの情報 取得<br>
                連合インスタンス一覧 取得<br>
                連合インスタンスの情報 取得<br>
                投票と集計機能<br>
                Push通知(Service Worker)<br>
                カツ!を 翻訳<br>
                通知 TLのインスタンスフィルター<br>
                HOME/Local TLの特定ワードを含むカツ!をNSFWで包む機能<br>
                カツ!した当時のLocal TLへタイムスリップする機能<br>
                OGP対応サイトの展開(クライアント)<br>
              </small>
              <h3>スマートフォンアプリで追加されるかもしれない拡張機能</h3>
              <small>
                PUSH通知(iOS)<br>
              </small>

            </div>
          </div>
        </div>
      </div>

      <info v-if="hasInfo">
        <span slot="header">
          <div class="flex info-wrapper color-wh bgcolor">
            <div v-on:click="runToast(true);playSound('sound'+optThemeSound);" class="flex full">
              <span class="hidden full" v-html="formatEmoji(result_text)"></span>
            </div>
            <div v-on:click="runToast(false);playSound('sound'+optThemeSound);" class="flex color-wh bgcolor">
              <i class="fa fa-fw fa-times"></i>
            </div>
          </div>
        </span>
      </info>

      <div v-if="'web' == app_mode" class="app-footer">
        <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%">
          <defs>
            <pattern id="ptbottoms" patternUnits="userSpaceOnUse" height="24" width="18">
              <rect class="pkl" height="24" width="18" y="0" x="0"/>
              <path class="pkd" d="m0 12 9-12 9 12-9 12z"/>
            </pattern>
          </defs>
          <rect width="100%" height="100%" style="fill: url(#ptbottoms)"/>
        </svg>
      </div>

      <div v-if="'web' == app_mode && ua != 'pc'" class="app-footer flex control">
        <div class="margin"></div>
        <div class="icon-wrapper flex">
          <i class="fa fa-fw fa-bars" v-on:click="popLink"></i>
          <i class="fa fa-fw invisible"></i>
        </div>
        <div class="margin"></div>
      </div>

      <div class="bgapp">
        <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%">
          <defs>
            <pattern id="ptshoes" patternUnits="userSpaceOnUse" height="114" width="80">
              <rect class="grl" height="114" width="80" y="0" x="0"/>
              <path class="grd" d="m0 57 40-57 40 57-40 57z"/>
            </pattern>
          </defs>
          <rect width="100%" height="100%" style="fill: url(#ptshoes)"/>
        </svg>
        <button id="soundoff" class="invisible"></button>
        <button id="sound" class="invisible"></button>
        <button id="soundex" class="invisible"></button>
        <small class="invisible">Refresh: {{dummy}}</small>
        <img src="img/missing_header.png">
      </div>

    </div><!-- Vue Root -->
    <!-- <script src="js/vue233.js"></script> -->
    <script src="js/vue.min.js"></script>

    <script src="js/addtohomescreen.min.js"></script>
    <script src="js/inobounce.min.js"></script>
    <script src="js/emojione.js"></script>
    <script src="js/lodash.min.js"></script>

    <script src="js/main.js?v=1130"></script>
    <script src="js/picker.js" async></script>

    <script>
      if('serviceWorker' in navigator && 'PushManager' in window){
        navigator.serviceWorker.register('sw.js?v=1130', {scope: './'}).then(reg => {

          reg.addEventListener('updatefound', () => {
            reg.update();
          });
        });
        navigator.serviceWorker.addEventListener('controllerchange', () => {
          console.log("update ok");
        });
      } else {
        console.warn('Service Worker is not supported');
      }
    </script>
  </body>
</html>