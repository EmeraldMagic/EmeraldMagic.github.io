<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <title>kktjs</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="css/emojipicker.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/addtohomescreen.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/emojione/2.2.7/assets/css/emojione.min.css"/> -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <!-- OGP -->
    <meta property="og:title" content="kktjs" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sumire.work/kktjs/" />
    <meta property="og:image" content="https://sumire.work/kktjs/img/apple-touch-icon.png" />
    <meta property="og:site_name"  content="sumire.work/kktjs" />
    <meta property="og:description" content="キラキラッターをもっと素敵にするWebクライアント" />
    <!-- iOS Safari FullScreen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- Icons -->
    <link rel="icon" href="/kktjs/img/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="shortcut icon" href="/kktjs/img/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="apple-touch-icon" sizes="152x152" href="/kktjs/img/apple-touch-icon.png">
  </head>
  <body class="bgsvg-gr">
    <script type="text/x-template" id="modal-image">
      <transition name="modal">
        <div class="modal-mask">

          <div class="image center">
            <slot name="header"></slot>
            <button class="modalbutton" v-on:click="$emit('close');"></button>
          </div>

        </div>
      </transition>
    </script>

    <script type="text/x-template" id="modal-input">
      <transition name="input">
        <div class="modal-mask">

          <div class="flex">
            <div class="column scrollable bgcolor-wh">
              <slot name="header"></slot>
            </div>
          </div>

        </div>
      </transition>
    </script>

    <script type="text/x-template" id="modal-confirm">
      <transition name="confirm">
        <div class="modal-mask">

          <div class="flex center">
            <div class="column scrollable bgcolor-wh">
              <slot name="header"></slot>
            </div>
          </div>

        </div>
      </transition>
    </script>

    <div id="app" class="color">

      <div class="app-header bgsvg-pk flex">
        <div class="logo-wrapper color-wh">
        <div class="svgkkt logo"><small>{{app_ver_top}}</small></div>
        </div>
        <div class="icon-wrapper flex">
          <i class="fa fa-fw fa-home" v-on:click="runHome"></i>
          <i class="fa fa-fw fa-users" v-on:click="runLocal"></i>
          <!-- <i class="fa fa-fw fa-globe color-disable"></i> -->
          <i class="fa fa-fw fa-bell" v-on:click="runBell"></i>
          <!-- <i class="fa fa-fw fa-at color-disable"></i> -->
          <i class="fa fa-fw fa-star" v-on:click="runAcctFav"></i>
          <i class="fa fa-fw fa-list" v-on:click="popSetting"></i>
          <i class="fa fa-fw fa-search" v-on:click="popSearch"></i>
          <i class="fa fa-fw fa-pencil-square-o" v-on:click="popForm"></i>
        </div>
        <div class="margin"></div>
      </div>

      <div v-if="null == at" class="column flex center">
        <div class="modal-mask">
          <div class="modal-wrapper">
            <div class="modal-container bgsvg-pk">

              <div class="text center color-wh">
                <h2 class="title">{{app_name}} v{{app_ver}}</h2>
                <h3>1. アプリ認証</h3>
                kirakiratter.comにログインして、<br>
                アプリからのアクセスを許可してね。<br>
                <button v-on:click="runAuth" class="color-wh bgcolor-gr">App Authorize</button><br>
                <h3>2. コードログイン</h3>
                アプリ認証でもらったCodeを使って<br>
                ログインしてみて。キラキラッターを楽しんでね。<br>
                <input type="text" v-model="code" placeholder="ここにCodeを張り付けてね"><br>
                <button v-on:click="fetchToken" class="color-wh bgcolor-gr">Token Login</button><br>
                <small>{{result_run}}</small>
              </div>

            </div>
          </div>
        </div>
        <div class="modal-bg"></div>
      </div>

      <modal v-if="showModal" v-on:close="showModal = false; modal = ''">
        <span slot="header">
          <img v-if="'image' == modal.type" :src="modal.url" alt="" class="fullimage">
          <video v-else :src="modal.url" class="fullimage" v-play="true" autoplay loop></video>
        </span>
      </modal>

      <emojipicker v-show="showEmojiPicker">
        <span slot="header">
          <div id="container" class="form-option full">
            <div class="wrapper full">
              <h3>Emoji Picker</h3>
              <textarea type="text" id="katsu" placeholder="What is on your mind?" class="content-input border-lite"></textarea>
              <div class="flex center">
                <span class="full">
                  <i class="fa fa-fw fa-smile-o full border-lite"></i>
                </span>
              </div>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showEmojiPicker = false;">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showEmojiPicker = false; closeEmoji()">OK</span>
              </div>
            </div>
          </div>
        </span>
      </emojipicker>

      <confirm v-if="showConfirm">
        <span slot="header">

          <div class="status flex" v-if="['delete','fav','unfav','reblog','unreblog','bookmark'].indexOf(issue.confirmtype) != -1">
            <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
            <div class="content-before"><div></div></div>
            <div class="content border">
              <div class="status-name flex start">
                <div class="hidden">
                  <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                  <a v-else>{{issue.account.username}}</a>
                  <small class="color-gr">@{{issue.account.acct}}</small>
                </div>
                <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
              </div>
              <div class="status__content">
                <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                <div v-if="0 != issue.spoiler_text.length && 'opened' != issue.opt_open">
                  <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                  <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                </div>
                <div v-if="0 == issue.spoiler_text.length || 'opened' === issue.opt_open">
                  <span v-html="$options.filters.formatContent(issue.content)"></span>
                </div>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                <a v-for="media in issue.media_attachments">
                  <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                  <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                  <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                </a>
              </div>
              <div v-if="( optAllNsfw || issue.sensitive ) && 0 != issue.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                <h4 v-if="issue.sensitive">Sensitive contents</h4>
                <h4 v-else>Media contents</h4>
                <small>Click to view</small>
              </div>
              <div class="action-bar flex end">
                <div class="hidden">
                  <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                </div>
                <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
              </div>
            </div>
          </div>
          <div v-else-if="'katsu' == issue.confirmtype" class="status flex">
            <img :src="['/avatars/original/missing.png' == user.avatar_static ? '/kktjs/img/missing_icon.png' : user.avatar_static]" class="avatar border" v-on:click="runAcct(user.id)">
            <div class="content-before"><div></div></div>
            <div class="content border">
              <div class="status-name flex start">
                <div class="hidden">
                  <a v-if="0 != user.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(user.display_name)"></a>
                  <a v-else>{{user.username}}</a>
                  <small class="color-gr">@{{user.acct}}</small>
                </div>
                <!-- <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span> -->
              </div>
              <div class="status__content">
                <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                <div v-if="0 != issue.spoiler_text.length">
                  <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');"><small>- SHOW MORE -</small></div>
                  <span v-html="$options.filters.formatContentSP(issue.content)" class="invisible"></span>
                </div>
                <div v-if="0 == issue.spoiler_text.length">
                  <span v-html="$options.filters.formatContentSP(issue.content)"></span>
                </div>
              </div>
              <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                <a v-for="media in issue.media_attachments">
                  <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                  <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                  <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                </a>
              </div>
              <div v-if="issue.sensitive && 0 != issue.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');">
                <h4 v-if="issue.sensitive">Sensitive contents</h4>
                <h4 v-else>Media contents</h4>
                <small>Click to view</small>
              </div>
              <div class="action-bar flex end">
                <div>
                  <i class="fa fa-fw fa-paperclip color-disable"></i><small>: ---</small>
                </div>
                <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                <i class="fa fa-fw fa-reply color-disable"></i>
                <i class="fa fa-fw fa-retweet color-disable"></i>
                <i class="fa fa-fw fa-star color-disable"></i>
                <i class="fa fa-fw fa-comment-o color-disable"></i>
                <i class="fa fa-fw fa-user-circle-o color-disable"></i>
              </div>
            </div>
          </div>
          <div v-else class="status flex">
            <img :src="['/avatars/original/missing.png' == acct.avatar ? '/kktjs/img/missing_icon.png' : acct.avatar]" class="avatar border">
            <div class="content">
              <a v-if="0 != acct.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(acct.display_name)"></a>
              <a v-else>{{acct.username}}</a>
              <small class="color-gr">@{{acct.acct}}</small>
              <span v-if="acct.locked"><i class="fa fa-fw fa-lock"></i></span><br>
              <span>{{acct.statuses_count}} </span>Katsu!
              <div class="">
                <span>{{acct.following_count}} </span>Follow /
                <span>{{acct.followers_count}} </span>Follower
              </div>
            </div>
          </div>

          <div class="text center">
            <div v-if="'katsu' == issue.confirmtype">
              <h3>カツ!しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span v-if="katsuCheck()" v-on:click="showConfirm = false; actKatsu(katsu, true)" class="color-wh bgcolor-gr button full">KATSU!</span>
                <span v-else class="color-wh bgcolor-disable button full">KATSU!</span>
              </div>
            </div>
            <div v-else-if="'delete' == issue.confirmtype">
              <h3>カツ!を削除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actDelete(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'fav' == issue.confirmtype">
              <h3>お気に入り登録しますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actFav(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unfav' == issue.confirmtype">
              <h3>お気に入り登録を解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnFav(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'reblog' == issue.confirmtype">
              <h3>ブーストしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actReblog(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unreblog' == issue.confirmtype">
              <h3>ブーストを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnReblog(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'follow' == issue.confirmtype">
              <h3>フォローしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actFollow(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unfollow' == issue.confirmtype">
              <h3>フォローを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnFollow(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'mute' == issue.confirmtype">
              <h3>ミュートしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actMute(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unmute' == issue.confirmtype">
              <h3>ミュートを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnMute(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'block' == issue.confirmtype">
              <h3>ブロックしますか？</h3>
                <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actBlock(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'unblock' == issue.confirmtype">
              <h3>ブロックを解除しますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-pk" v-on:click="showConfirm = false; actUnBlock(issue, true);">OK</span>
              </div>
            </div>
            <div v-else-if="'bookmark' == issue.confirmtype">
              <h3>しおりをはさみますか？</h3>
              <div class="flex center">
                <span class="button full color-wh bgcolor" v-on:click="showConfirm = false; issue = '';">Cancel</span>
                <span class="button full color-wh bgcolor-gr" v-on:click="showConfirm = false; actBookmark(issue, true);">OK</span>
              </div>
            </div>

          </div>

        </span>
      </confirm>

      <!-- DEBUG -->
      <div class="flex column-list">
        <div v-if="showDebug" class="column scrollable debug">
          <div class="column-header"><i class="fa fa-fw fa-cog"></i>App Status</div>
          <h3>Columns</h3>
          <div class="">
            Home<input type="checkbox" id="showhometl" v-model="showhometl">
            Local<input type="checkbox" id="showlocaltl" v-model="showlocaltl">
          </div>
          <div class="">
            Notif<input type="checkbox" id="shownotif" v-model="shownotif">
            Detail<input type="checkbox" id="showdetail" v-model="showdetail">
            Acct({{acct_type}})<input type="checkbox" id="showacct" v-model="showacct">
            Hash<input type="checkbox" id="showmanagetl" v-model="showmanagetl">
            Debug<input type="checkbox" id="showDubug" v-model="showDebug">
            (Local)<input type="checkbox" id="showDubugLocal" v-model="showDebugLocal">
          </div>
          <div class="">
            Setting<input type="checkbox" id="showSetting" v-model="showSetting">
            Search<input type="checkbox" id="showSearch" v-model="showSearch">
            Form<input type="checkbox" id="optAllNsfw" v-model="showForm">
          </div>
          <h3>Options</h3>
          <div class="">
            Mobile<input type="checkbox" id="optMode" v-model="optMode" disabled>
            AllNSFW(TL) <input type="checkbox" id="optAllNsfw" v-model="optAllNsfw">
          </div>
          <h3>Other Debug</h3>
          <button v-on:click="confirm">confirm</button>
          <button v-on:click="playSound">default boop</button>
          <button onClick="notif('test',null);var b = document.getElementById('sound');b.click();">notif test</button>
          <!-- <input type="text" v-model="repository" readonly> -->
<!--           <button v-on:click="reopenWsHome">Home Stream ReConn</button>
          <button v-on:click="pingWsHome">Ping Home Stream Socket</button>
          <button v-on:click="reopenWsLocal">Local Stream ReConn</button>
          <button v-on:click="pingWsLocal">Ping Local Stream Socket</button> -->
          user.id(loginuser)
          <input type="text" v-model="user.id" readonly>
          <!-- <input type="text" v-model="searchText"> -->
          <!-- <input type="text" v-model="notif_id"> -->
          detail_targetid
          <input type="text" v-model="detail_targetid">
          <button v-on:click="runDetail(detail_targetid)">Load Katsu!</button>
          acct_targetid
          <input type="text" v-model="acct_targetid">
          <button v-on:click="runAcct(acct_targetid)">Load Account</button>
          search_user
          <input type="text" v-model="search_user">
          <button v-on:click="searchAcctObj">Load Account</button>
          search_tag
          <input type="text" v-model="search_tag">
          <button v-on:click="runHash">Load HashTL</button>
          katsu_id(home_min)
          <input type="text" v-model="home_id">
          katsu_id(local_min)
          <input type="text" v-model="local_id">
          katsu_id(notif_min)
          <input type="text" v-model="notif_id">
          katsu_id(acct_min)
          <input type="text" v-model="acct_id">
          home_unread: {{home_unread}}/ {{homes.length}},
          home_posy: {{home_posy}}<br>
          local_unread: {{local_unread}}/ {{locals.length}},
          local_posy: {{local_posy}}<br>
          katsu_id(bookmark)
          <input type="text" v-model="local_id_bookmark">
        </div>

        <!-- HOME -->
        <div :class="[{ invisible: !showhometl }, { primary: optColumnWide }]" class="column">
          <div class="column-header"><i class="fa fa-fw fa-home"></i>Home (Stream: {{connHome}}, AutoScr: {{home_scr}})</div>
          <div class ="scrollable" id="home" v-on:scroll="handleScrollHome">
            <div v-if="hasHome" class="status-list">
              <div v-for="(issue, index) in homes" v-if="home_unread <= index && index < 40 + home_unread" class="status-wrapper" :class="issue.visibility">
                <div v-if="null != issue.reblog" class="status-header">
                  <i class="fa fa-fw fa-retweet"></i>
                  <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></span>
                  <span v-else>{{issue.account.username}}</span>
                  <span> reblog ({{issue.created_at | formatDate}})</span>
                </div>
                <!-- REBLOG -->
                <div v-if="null != issue.reblog" class="status flex">
                  <img :src="['/avatars/original/missing.png' == issue.reblog.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.reblog.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)">
                  <div class="content-before"><div></div></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden">
                        <a v-if="0 != issue.reblog.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.reblog.account.display_name)"></a>
                        <a v-else>{{issue.reblog.account.username}}</a>
                        <small class="color-gr">@{{issue.reblog.account.acct}}</small>
                      </div>
                      <span class="status-time color-gr"> {{issue.reblog.created_at | formatDate}}</span>
                    </div>
                    <div class="status__content">
                      <span v-html="$options.filters.formatContentS(issue.reblog.spoiler_text)"></span>
                      <div v-if="0 != issue.reblog.spoiler_text.length && 'opened' != issue.opt_open">
                        <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.homes[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                        <span v-html="$options.filters.formatContent(issue.reblog.content)" class="invisible"></span>
                      </div>
                      <div v-if="0 == issue.reblog.spoiler_text.length || 'opened' === issue.opt_open">
                        <span v-html="$options.filters.formatContent(issue.reblog.content)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.reblog.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                      </a>
                    </div>
                    <div v-if="( optAllNsfw || issue.reblog.sensitive ) && 0 != issue.reblog.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.homes[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                      <h4 v-if="issue.reblog.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <small :href="issue.reblog.url">id:{{issue.reblog.id}}</small>
                      <small v-if="'public' != issue.reblog.visibility">{{issue.reblog.visibility}}</small>
                      <i v-on:click="runForm(issue.reblog)" class="fa fa-fw fa-reply"></i>
                      <i v-if="'direct' == issue.reblog.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.reblog.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblog.reblogged" v-on:click="actUnReblog(issue.reblog);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.reblog)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.reblog.favourited" v-on:click="actUnFav(issue.reblog, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.reblog);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.reblog.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.reblog.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- NORMAL -->
                <div v-else class="status flex">
                  <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><div></div></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                        <a v-else>{{issue.account.username}}</a>
                        <small class="color-gr">@{{issue.account.acct}}</small>
                      </div>
                      <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                    </div>
                    <div class="status__content">
                      <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                      <div v-if="0 != issue.spoiler_text.length && 'opened' != issue.opt_open">
                        <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.homes[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                        <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                      </div>
                      <div v-if="0 == issue.spoiler_text.length || 'opened' === issue.opt_open">
                        <span v-html="$options.filters.formatContent(issue.content)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                      </a>
                    </div>
                    <div v-if="( optAllNsfw || issue.sensitive ) && 0 != issue.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.homes[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                      <h4 v-if="issue.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.favourited" v-on:click="actUnFav(issue, false);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <div>loading...</div>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upHome"></i>
            <i class="fa fa-fw fa-angle-up" v-on:click="backHome"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextHome"></i>
          </div>
        </div>
        <!-- LOCAL -->
        <div :class="[{ invisible: !showlocaltl }, { primary: optColumnWide }]" class="column">
          <div class="column-header"><i class="fa fa-fw fa-users"></i>Local (Stream: {{connLocal}}, AutoScr: {{local_scr}})</div>
          <div class ="scrollable" id="local" v-on:scroll="handleScrollLocal">
            <div v-if="hasLocal" class="status-list">
              <div v-for="(issue, index) in locals" v-if="local_unread <= index && index < 40 + local_unread" class="status-wrapper" :class="issue.visibility">
                <div v-if="local_id_bookmark == issue.id" class="status-header flex start bgcolor-bookmark bookmark">
                  <i v-on:click="local_id_bookmark = ''" class="fa fa-fw fa-paperclip big"></i>
                </div>
                <div v-if="showDebugLocal" class="status-header flex end">
                  <small v-if="issue.application">
                    via <a :href="issue.application.website" target="_blank" rel="noopener noreferrer">{{issue.application.name}}</a>
                  </small>
                </div>
                <div class="status flex">
                  <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><div></div></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                        <a v-else>{{issue.account.username}}</a>
                        <small class="color-gr">@{{issue.account.acct}}</small>
                      </div>
                      <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                    </div>
                    <div class="status__content">
                      <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                      <div v-if="0 != issue.spoiler_text.length && 'opened' != issue.opt_open">
                        <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                        <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                      </div>
                      <div v-if="0 == issue.spoiler_text.length || 'opened' === issue.opt_open">
                        <span v-html="$options.filters.formatContent(issue.content)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                      </a>
                    </div>
                    <div v-if="( optAllNsfw || issue.sensitive ) && 0 != issue.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                      <h4 v-if="issue.sensitive">Sensitive contents</h4>
                      <h4 v-else>Media contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <div>loading...</div>
            </div>
          </div>
          <div class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upLocal"></i>
            <i class="fa fa-fw fa-angle-up" v-on:click="backLocal"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextLocal"></i>
          </div>
        </div>

        <!-- NOTIFICATION -->
        <div v-if="shownotif" class ="column scrollable">
          <div class="column-header"><i class="fa fa-fw fa-bell"></i>Notification (StreamObj: {{connHome}})</div>
          <div v-if="hasNotif" class="status-list">
            <div v-for="issue in notifs" class="status-wrapper">
              <div class="status-header">
                <i v-if="'mention' == issue.type" class="fa fa-fw fa-reply"></i>
                <i v-else-if="'reblog' == issue.type" class="fa fa-fw fa-retweet"></i>
                <i v-else-if="'favourite' == issue.type" class="fa fa-fw fa-star"></i>
                <i v-else-if="'follow' == issue.type" class="fa fa-fw fa-user-plus"></i>
                <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></span>
                <span v-else class="color-pk">{{issue.account.username}}</span>
                <span v-if="'follow' != issue.type">{{issue.type}} your katsu! ({{issue.created_at | formatDate}})</span>
                <span v-else>{{issue.type}} you ({{issue.created_at | formatDate}})</span>
              </div>
              <!-- Mention -->
              <div v-if="'mention' == issue.type" class="status flex">
                <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden">
                      <a v-if="0 != issue.status.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.status.account.display_name)"></a>
                      <a v-else>{{issue.status.account.username}}</a>
                      <small class="color-gr">@{{issue.status.account.acct}}</small>
                    </div>
                    <span class="status-time color-gr"> {{issue.status.created_at | formatDate}}</span>
                  </div>
                  <div class="status__content">
                    <span v-html="$options.filters.formatContentS(issue.status.spoiler_text)" v-if="0 != issue.status.spoiler_text.length"></span>
                    <span v-html="$options.filters.formatContent(issue.status.content)"></span>
                  </div>
                  <div v-if="0 != issue.status.media_attachments" class="media-wrapper flex">
                    <a v-for="media in issue.status.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                    </a>
                  </div>
                  <div v-if="issue.status.sensitive && 0 != issue.status.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible')">
                  </div>
                  <div class="action-bar flex end">
                    <small :href="issue.status.url">id:{{issue.status.id}}</small>
                    <small v-if="'public' != issue.status.visibility">{{issue.status.visibility}}</small>
                    <i v-on:click="runForm(issue.status)" class="fa fa-fw fa-reply"></i>
                    <i v-if="'direct' == issue.status.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                    <i v-else-if="'private' == issue.status.visibility" class="fa fa-fw fa-lock color-disable"></i>
                    <i v-else-if="issue.status.reblogged" v-on:click="actUnReblog(issue.status.id);" class="fa fa-fw fa-retweet color-on"></i>
                    <i v-else v-on:click="actReblog(issue.status.id)" class="fa fa-fw fa-retweet"></i>
                    <i v-if="issue.status.favourited" v-on:click="actUnFav(issue.status.id);" class="fa fa-fw fa-star color-on"></i>
                    <i v-else v-on:click="actFav(issue.status.id);" class="fa fa-fw fa-star"></i>
                    <i v-on:click="runDetail(issue.status.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.status.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
              <!-- Fav/Reblog -->
              <div v-else-if="'favourite' == issue.type || 'reblog' == issue.type " class="status flex">
                <img :src="['/avatars/original/missing.png' == issue.status.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.status.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.status.account.id)">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden">
                      <a v-if="0 != issue.status.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.status.account.display_name)"></a>
                      <a v-else>{{issue.status.account.username}}</a>
                      <small class="color-gr">@{{issue.status.account.acct}}</small>
                    </div>
                    <span class="status-time color-gr"> {{issue.status.created_at | formatDate}}</span>
                  </div>
                  <div class="status__content">
                    <span v-html="$options.filters.formatContentS(issue.status.spoiler_text)" v-if="0 != issue.status.spoiler_text.length"></span>
                    <span v-html="$options.filters.formatContent(issue.status.content)"></span>
                  </div>
                  <div class="action-bar flex end">
                    <small :href="issue.status.url">id:{{issue.status.id}}</small>
                    <i v-on:click="runDetail(issue.status.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.status.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
              <!-- Follow -->
              <div v-else class="status flex">
                <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden">
                      <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                      <a v-else>{{issue.account.username}}</a>
                      <small class="color-gr">@{{issue.account.acct}}</small>
                    </div>
                    <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                  </div>
                  <div class="status__content">
                  </div>
                  <div class="action-bar flex end">
                    <i></i>
                    <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div v-else>
            <div>loading...</div>
          </div>
        </div>
        <!-- Detail-->
        <div v-if="showdetail" class ="column scrollable">
        <div class="column-header"><i class="fa fa-fw fa-comment"></i>Detail</div>
          <!-- ANCESTORS -->
          <div v-if="hasDetailUp" class="status-list">
            <div v-for="(issue, index) in detail_chain.ancestors" class="status flex">
              <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                    <a v-else>{{issue.account.username}}</a>
                    <small class="color-gr">@{{issue.account.acct}}</small>
                  </div>
                  <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                </div>
                <div class="status__content">
                  <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                  <div v-if="0 != issue.spoiler_text.length">
                    <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible')"><small>- SHOW MORE -</small></div>
                    <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                  </div>
                  <div v-if="0 == issue.spoiler_text.length">
                    <span v-html="$options.filters.formatContent(issue.content)"></span>
                  </div>
                </div>
                <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                  <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                  </a>
                </div>
                <div v-if="issue.sensitive && 0 != issue.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible')">
                  <h4>Sensitive contents</h4>
                  <small>Click to view</small>
                </div>
                <div class="action-bar flex end">
                  <div class="hidden">
                    <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                  </div>
                  <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                  <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                  <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                  <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                  <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                  <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                  <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                  <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                  <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                  <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                </div>
              </div>
            </div>
          </div>
          <!-- TARGET -->
          <div v-if="hasDetail" class="status-list">
            <div class="status flex">
              <img :src="['/avatars/original/missing.png' == detail.account.avatar_static ? '/kktjs/img/missing_icon.png' : detail.account.avatar_static]" class="avatar border" v-on:click="runAcct(detail.account.id)">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != detail.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(detail.account.display_name)"></a>
                    <a v-else>{{detail.account.username}}</a>
                    <small class="color-gr">@{{detail.account.acct}}</small>
                  </div>
                  <small class="status-time color-gr"> {{detail.created_at | formatDateFull}}</small>
                </div>
                <div class="detail-time flex end">
                </div>
                <div class="status__content">
                  <span v-html="$options.filters.formatContentS(detail.spoiler_text)"></span>
                  <div v-if="0 != detail.spoiler_text.length">
                    <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible')"><small>- SHOW MORE -</small></div>
                    <span v-html="$options.filters.formatContent(detail.content)" class="invisible"></span>
                  </div>
                  <div v-if="0 == detail.spoiler_text.length">
                    <span v-html="$options.filters.formatContent(detail.content)"></span>
                  </div>
                </div>
                <div v-if="0 != detail.media_attachments" class="media-wrapper flex">
                  <a v-for="media in detail.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                  </a>
                </div>
                <div v-if="detail.sensitive && 0 != detail.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible')">
                  <h4>Sensitive contents</h4>
                  <small>Click to view</small>
                </div>
                <a v-if="hasDetailCard" class="flex center detail-card bgcolor-wh" :href="detail_card.url" target="_blank" rel="noopener noreferrer">
                  <img v-if="null != detail_card.image" :src="detail_card.image">
                  <div class="detail-content">
                    <span>{{detail_card.title}}</span><br>
                    <small class="color">{{detail_card.description}}</small><br>
                    <small class="color">{{detail_card.url | formatDomain }}</small>
                  </div>
                </a>
                <div class="detail-bar flex end">
                  <div>
                    <div class="detail-select color"><i class="fa fa-fw fa-retweet"></i><small>{{detail_reblog.length}}</small></div>
                    <img v-for="account in detail_reblog" :src="['/avatars/original/missing.png' == account.avatar_static ? '/kktjs/img/missing_icon.png' : account.avatar_static]" v-on:click="runAcct(account.id)" class="avatar mini">
                  </div>
                  <div>
                    <div class="detail-select color"><i class="fa fa-fw fa-star"></i><small>{{detail_fav.length}}</small></div>
                    <img v-for="account in detail_fav" :src="['/avatars/original/missing.png' == account.avatar_static ? '/kktjs/img/missing_icon.png' : account.avatar_static]" v-on:click="runAcct(account.id)" class="avatar mini">
                  </div>
                </div>
                <div class="action-bar flex end">
                  <small :href="detail.url">id:{{detail.id}}</small>
                  <small v-if="'public' != detail.visibility">{{detail.visibility}}</small>
                  <i v-on:click="runForm(detail)" class="fa fa-fw fa-reply"></i>
                  <i v-if="'direct' == detail.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                  <i v-else-if="'private' == detail.visibility" class="fa fa-fw fa-lock color-disable"></i>
                  <i v-else-if="detail.reblogged" v-on:click="actUnReblog(detail.id);" class="fa fa-fw fa-retweet color-on"></i>
                  <i v-else v-on:click="actReblog(detail.id)" class="fa fa-fw fa-retweet"></i>
                  <i v-if="detail.favourited" v-on:click="actUnFav(detail.id);" class="fa fa-fw fa-star color-on"></i>
                  <i v-else v-on:click="actFav(detail.id);" class="fa fa-fw fa-star"></i>
                  <i v-if="user.id == detail.account.id" v-on:click="actDelete(detail)" class="fa fa-fw fa-trash"></i>
                  <i v-else v-on:click="runDetail(detail.id)" class="fa fa-fw fa-comment-o"></i>
                  <i v-on:click="runAcct(detail.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                </div>
              </div>
            </div>
            <div class="flex account-bar">
            </div>
            <div class="status-header flex end">
              <small v-if="detail.application">
                via <a :href="detail.application.website" target="_blank" rel="noopener noreferrer">{{detail.application.name}}</a>
              </small>
            </div>
          </div>
          <!-- DESCESTORS -->
          <div v-if="hasDetailDn" class="status-list">
            <div v-for="(issue, index) in detail_chain.descendants" class="status flex">
              <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                    <a v-else>{{issue.account.username}}</a>
                    <small class="color-gr">@{{issue.account.acct}}</small>
                  </div>
                  <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                </div>
                <div class="status__content">
                  <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                  <div v-if="0 != issue.spoiler_text.length">
                    <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible')"><small>- SHOW MORE -</small></div>
                    <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                  </div>
                  <div v-if="0 == issue.spoiler_text.length">
                    <span v-html="$options.filters.formatContent(issue.content)"></span>
                  </div>
                </div>
                <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                  <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                  </a>
                </div>
                <div v-if="issue.sensitive && 0 != issue.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible')">
                  <h4>Sensitive contents</h4>
                  <small>Click to view</small>
                </div>
                <div class="action-bar flex end">
                  <div class="hidden">
                    <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                  </div>
                  <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                  <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                  <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                  <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                  <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                  <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                  <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                  <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                  <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                  <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                </div>
              </div>
            </div>
          </div>
          <div v-else>
            <div>loading...</div>
          </div>
        </div>

        <!-- Account -->
        <div v-if="showacct" class="column ">
          <div class="column-header"><i class="fa fa-fw fa-user-circle-o"></i>Account</div>
          <div class="scrollable" id="acct">
            <div v-if="hasAcctRel" class="status-list">
              <div v-if="acct.header.indexOf('original/missing.png') == -1" class="acct-header-wrapper">
                <img :src="acct.header" class="media-header">
              </div>
              <div class="flex">
                <img :src="['/avatars/original/missing.png' == acct.avatar ? '/kktjs/img/missing_icon.png' : acct.avatar]" class="avatar border">
                <div class="content">
                  <a v-if="0 != acct.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(acct.display_name)"></a>
                  <a v-else>{{acct.username}}</a>
                  <small class="color-gr">@{{acct.acct}}</small>
                  <span v-if="acct.locked"><i class="fa fa-fw fa-lock"></i></span><br>
                  <span>{{acct.statuses_count}} </span>Katsu!
                  <div class="">
                    <span>{{acct.following_count}} </span>Follow /
                    <span>{{acct.followers_count}} </span>Follower
                  </div>
                  <div v-if="user.id != acct_targetid" class="flex end action-bar">
                    <i v-on:click="runForm(acct)" class="fa fa-fw fa-reply"></i>
                    <span v-if="acct_relation[0].followed_by">[Follows You] </span>
                    <span v-if="acct_relation[0].muting"><i class="fa fa-fw fa-microphone-slash"></i></span>
                    <span v-if="acct_relation[0].following" v-on:click="actUnFollow(acct)" class="button mini color-wh bgcolor-pk">Following</span>
                    <span v-else-if="acct_relation[0].requested" class="button mini color-wh bgcolor">Requested</span>
                    <span v-else-if="acct_relation[0].blocking" class="button mini color-wh bgcolor-disable">Follow</span>
                    <span v-else v-on:click="actFollow(acct)" class="button mini color-wh bgcolor">Follow</span>
                    <i v-on:click="toggleAcctEx()" class="fa fa-fw fa-ellipsis-h"></i>
                  </div>
                  <div v-if="user.id != acct_targetid && showacctEx" class="flex end action-bar">
                    <span></span>
                    <span v-if="acct_relation[0].muting" v-on:click="actUnMute(acct)" class="button mini color-wh bgcolor-pk">UnMute</span>
                    <span v-else v-on:click="actMute(acct)" class="button mini color-wh bgcolor">Mute</span>
                    <span v-if="acct_relation[0].blocking" v-on:click="actUnBlock(acct)" class="button mini color-wh bgcolor-pk">UnBlock</span>
                    <span v-else v-on:click="actBlock(acct)" class="button mini color-wh bgcolor">Block</span>
                  </div>
                </div>
              </div>
              <div v-if="7 < acct.note.length" class="flex">
                <img :src="['/avatars/original/missing.png' == acct.avatar ? '/kktjs/img/missing_icon.png' : acct.avatar]" class="avatar border">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status__content">
                    <span v-html="$options.filters.formatContent(acct.note)"></span>
                    <div class="action-bar flex end">
                      <!-- <small :href="acct.url">id:{{acct.id}}</small> -->
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex account-bar">
                <div v-on:click="acct_id=''; fetchAcct()" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'katsu' == acct_type }"><i class="fa fa-fw fa-comments-o"></i>All</div>
                <div v-on:click="acct_id=''; fetchMedia()" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'media' == acct_type }"><i class="fa fa-fw fa-photo"></i>Media</div>
                <div v-on:click="fetchFollow" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follow' == acct_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follow</div>
                <div v-on:click="fetchFollower" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'follower' == acct_type }"><i class="fa fa-fw fa-user-circle-o"></i>Follower</div>
              </div>
              <div v-if="user.id == acct_targetid" class="flex account-bar">
                <div v-on:click="acct_id=''; fetchFav()" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'fav' == acct_type }"><i class="fa fa-fw fa-star-o"></i>Favourite</div>
                <div v-on:click="fetchMute" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'mute' == acct_type }"><i class="fa fa-fw fa-microphone-slash"></i>Mute</div>
                <div v-on:click="fetchBlock" class="acct-select color-wh bgcolor" :class="{ 'bgcolor-pk': 'block' == acct_type }"><i class="fa fa-fw fa-user-circle"></i>Block</div>
              </div>
            </div>
            <div v-if="hasAcct" class="status-list">
              <div v-for="(issue, index) in accts" class="status-wrapper">
                <div v-if="null != issue.reblog" class="status-header">
                  <i class="fa fa-fw fa-retweet"></i>
                  <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  <span v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></span>
                  <span v-else>{{issue.account.username}}</span>
                  <span> reblog ({{issue.created_at | formatDate}})</span>
                </div>
                <!-- REBLOG -->
                <div v-if="null != issue.reblog" class="status flex">
                  <img :src="['/avatars/original/missing.png' == issue.reblog.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.reblog.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.reblog.account.id)">
                  <div class="content-before"><div></div></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden">
                        <a v-if="0 != issue.reblog.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.reblog.account.display_name)"></a>
                        <a v-else>{{issue.reblog.account.username}}</a>
                        <small class="color-gr">@{{issue.reblog.account.acct}}</small>
                      </div>
                      <span class="status-time color-gr"> {{issue.reblog.created_at | formatDate}}</span>
                    </div>
                    <div class="status__content">
                      <span v-html="$options.filters.formatContentS(issue.reblog.spoiler_text)"></span>
                      <div v-if="0 != issue.reblog.spoiler_text.length">
                        <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');" :idx="index"><small>- SHOW MORE -</small></div>
                        <span v-html="$options.filters.formatContent(issue.reblog.content)" class="invisible"></span>
                      </div>
                      <div v-if="0 == issue.reblog.spoiler_text.length">
                        <span v-html="$options.filters.formatContent(issue.reblog.content)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.reblog.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.reblog.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                      </a>
                    </div>
                    <div v-if="issue.reblog.sensitive && 0 != issue.reblog.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');">
                      <h4>Sensitive contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <small :href="issue.reblog.url">id:{{issue.reblog.id}}</small>
                      <small v-if="'public' != issue.reblog.visibility">{{issue.reblog.visibility}}</small>
                      <i v-on:click="runForm(issue.reblog)" class="fa fa-fw fa-reply"></i>
                      <i v-if="'direct' == issue.reblog.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.reblog.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblog.reblogged" v-on:click="actUnReblog(issue.reblog.id);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue.reblog.id)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.reblog.favourited" v-on:click="actUnFav(issue.reblog.id);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue.reblog.id);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.reblog.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.reblog.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
                <!-- NORMAL -->
                <div v-else class="status flex">
                  <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                  <div class="content-before"><div></div></div>
                  <div class="content border">
                    <div class="status-name flex start">
                      <div class="hidden">
                        <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                        <a v-else>{{issue.account.username}}</a>
                        <small class="color-gr">@{{issue.account.acct}}</small>
                      </div>
                      <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                    </div>
                    <div class="status__content">
                      <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                      <div v-if="0 != issue.spoiler_text.length">
                        <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible')"><small>- SHOW MORE -</small></div>
                        <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                      </div>
                      <div v-if="0 == issue.spoiler_text.length">
                        <span v-html="$options.filters.formatContent(issue.content)"></span>
                      </div>
                    </div>
                    <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                      <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                        <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                        <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                        <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                      </a>
                    </div>
                    <div v-if="issue.sensitive && 0 != issue.media_attachments" class="media-wrapper bluesheet" onClick="this.classList.add('invisible')">
                      <h4>Sensitive contents</h4>
                      <small>Click to view</small>
                    </div>
                    <div class="action-bar flex end">
                      <div class="hidden">
                        <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                      </div>
                      <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                      <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                      <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                      <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                      <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                      <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                      <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                      <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                      <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                      <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="hasUser" class="status-list">
              <div v-for="issue in accts_users" class="status flex">
                <img :src="['/avatars/original/missing.png' == issue.avatar_static ? '/kktjs/img/missing_icon.png' : issue.avatar_static]" class="avatar border" v-on:click="runAcct(issue.id)">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden">
                      <a v-if="0 != issue.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.display_name)"></a>
                      <a v-else>{{issue.username}}</a>
                      <small class="color-gr">@{{issue.acct}}</small>
                      <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span><br>
                    </div>
                    <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                  </div>
                  <div class="status__content">
                  </div>
                  <div class="action-bar flex end">
                    <i></i>
                    <div v-if="user.id != issue.id">
                      <span v-if="isFollow(issue.id)" v-on:click="actUnFollow(issue)" class="button mini color-wh bgcolor-pk">Following</span>
                      <span v-else-if="isRequest(issue.id)" class="button mini color-wh bgcolor">Requested</span>
                      <span v-else-if="isBlock(issue.id)" class="button mini color-wh bgcolor-disable">Follow</span>
                      <span v-else-if="!isFollow(issue.id)" v-on:click="actFollow(issue)" class="button mini color-wh bgcolor">Follow</span>
                    </div>
                    <i v-on:click="runAcct(issue.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div v-if="acct_type == 'katsu' || acct_type == 'media'" class="flex column-footer">
            <i class="fa fa-fw fa-angle-double-up" v-on:click="upAcct"></i>
            <i class="fa fa-fw fa-angle-up color-disable"></i>
            <i class="fa fa-fw fa-angle-down" v-on:click="nextAcct"></i>
          </div>
        </div>

        <!-- MANAGE -->
        <div :class="{ invisible: !showmanagetl }" class="column">
        <div class="column-header"><i class="fa fa-fw fa-hashtag"></i>Hashtag: {{search_tag}}</div>
          <div class ="scrollable">
            <div v-if="hasManage" class="status-list">
              <div v-for="(issue, index) in manages" class="status flex" :class="issue.visibility">
                <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
                <div class="content-before"><div></div></div>
                <div class="content border">
                  <div class="status-name flex start">
                    <div class="hidden">
                      <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                      <a v-else>{{issue.account.username}}</a>
                      <small class="color-gr">@{{issue.account.acct}}</small>
                    </div>
                    <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                  </div>
                  <div class="status__content">
                    <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                    <div v-if="0 != issue.spoiler_text.length && 'opened' != issue.opt_open">
                      <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                      <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                    </div>
                    <div v-if="0 == issue.spoiler_text.length || 'opened' === issue.opt_open">
                      <span v-html="$options.filters.formatContent(issue.content)"></span>
                    </div>
                  </div>
                  <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                    <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                      <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                      <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                      <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                    </a>
                  </div>
                  <div v-if="( optAllNsfw || issue.sensitive ) && 0 != issue.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                    <h4 v-if="issue.sensitive">Sensitive contents</h4>
                    <h4 v-else>Media contents</h4>
                    <small>Click to view</small>
                  </div>
                  <div class="action-bar flex end">
                    <div class="hidden">
                      <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                    </div>
                    <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                    <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                    <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                    <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                    <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                    <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                    <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                    <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                    <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                    <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                  </div>
                </div>
              </div>
            </div>
            <div v-else>
              <div>loading...</div>
            </div>
          </div>
          <div class="flex column-footer">
          </div>
        </div>

      </div>
      <div class="flex" style="">
        <!-- SEARCH -->
        <div v-if="showSearch" class ="column scrollable bgcolor-wh fixed">
          <div class="status-list">

            <div class="search-container bgcolor-wh flex center">
              <input v-focus type="text" v-model="search_text" class="border-dash" placeholder="" @keyup.enter="searchAll"><br>
              <span v-on:click="searchAll" class="color-wh bgcolor-gr button">Search</span>
            </div>

            <div v-if="searchs.hashtags && 0 != searchs.hashtags.length" class="column-header"><i class="fa fa-fw fa-hashtag"></i>Hashtag</div>
            <div class="status flex wrap">
              <a v-for="issue in searchs.hashtags" href="javascript:void(0)" v-on:click="showSearch = false; search_tag = issue; runHash();" class="search-result">#{{issue}}</a>
            </div>

            <div v-if="searchs.accounts && 0 != searchs.accounts.length" class="column-header"><i class="fa fa-fw fa-user-circle-o"></i>Account</div>
            <div v-for="issue in searchs.accounts" class="status flex">
              <img :src="['/avatars/original/missing.png' == issue.avatar_static ? '/kktjs/img/missing_icon.png' : issue.avatar_static]" class="avatar border" v-on:click="showSearch = false; runAcct(issue.id);">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != issue.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.display_name)"></a>
                    <a v-else>{{issue.username}}</a>
                    <small class="color-gr">@{{issue.acct}}</small>
                    <span v-if="issue.locked"><i class="fa fa-fw fa-lock"></i></span><br>
                  </div>
                  <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                </div>
                <div class="status__content">
                </div>
                <div class="action-bar flex end">
                  <i></i>
                  <i v-on:click="showSearch = false; runAcct(issue.id);" class="fa fa-fw fa-user-circle-o"></i>
                </div>
              </div>
            </div>

            <div v-if="searchs.statuses && 0 != searchs.statuses.length" class="column-header"><i class="fa fa-fw fa-comment-o"></i>Katsu!</div>
            <div v-for="(issue, index) in searchs.statuses" class="status flex">

              <img :src="['/avatars/original/missing.png' == issue.account.avatar_static ? '/kktjs/img/missing_icon.png' : issue.account.avatar_static]" class="avatar border" v-on:click="runAcct(issue.account.id)">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != issue.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(issue.account.display_name)"></a>
                    <a v-else>{{issue.account.username}}</a>
                    <small class="color-gr">@{{issue.account.acct}}</small>
                  </div>
                  <span class="status-time color-gr"> {{issue.created_at | formatDate}}</span>
                </div>
                <div class="status__content">
                  <span v-html="$options.filters.formatContentS(issue.spoiler_text)"></span>
                  <div v-if="0 != issue.spoiler_text.length && 'opened' != issue.opt_open">
                    <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                    <span v-html="$options.filters.formatContent(issue.content)" class="invisible"></span>
                  </div>
                  <div v-if="0 == issue.spoiler_text.length || 'opened' === issue.opt_open">
                    <span v-html="$options.filters.formatContent(issue.content)"></span>
                  </div>
                </div>
                <div v-if="0 != issue.media_attachments" class="media-wrapper flex">
                  <a v-for="media in issue.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                  </a>
                </div>
                <div v-if="( optAllNsfw || issue.sensitive ) && 0 != issue.media_attachments && 'opened' != issue.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                  <h4 v-if="issue.sensitive">Sensitive contents</h4>
                  <h4 v-else>Media contents</h4>
                  <small>Click to view</small>
                </div>
                <div class="action-bar flex end">
                  <div class="hidden">
                    <i v-on:click="actBookmark(issue)" class="fa fa-fw fa-paperclip"></i><small>:{{issue.id}}</small>
                  </div>
                  <small v-if="'public' != issue.visibility">{{issue.visibility}}</small>
                  <i v-on:click="runForm(issue)" class="fa fa-fw fa-reply"></i>
                  <i v-if="'direct' == issue.visibility" class="fa fa-fw fa-envelope color-disable"></i>
                  <i v-else-if="'private' == issue.visibility" class="fa fa-fw fa-lock color-disable"></i>
                  <i v-else-if="issue.reblogged" v-on:click="actUnReblog(issue);" class="fa fa-fw fa-retweet color-on"></i>
                  <i v-else v-on:click="actReblog(issue)" class="fa fa-fw fa-retweet"></i>
                  <i v-if="issue.favourited" v-on:click="actUnFav(issue);" class="fa fa-fw fa-star color-on"></i>
                  <i v-else v-on:click="actFav(issue);" class="fa fa-fw fa-star"></i>
                  <i v-on:click="runDetail(issue.id)" class="fa fa-fw fa-comment-o"></i>
                  <i v-on:click="runAcct(issue.account.id)" class="fa fa-fw fa-user-circle-o"></i>
                </div>
              </div>
            </div>

          </div>
        </div>
        <!-- KatsuForm -->
        <div v-if="showForm" class ="column scrollable bgcolor-wh fixed">
          <div class="status-list">

            <div v-if="hasReply" class="status-header">
              <i class="fa fa-fw fa-reply"></i>
              <span> reply to</span>
              <span v-if="0 != reply.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(reply.account.display_name)"></span>
              <span v-else>{{reply.account.username}}</span>
            </div>
            <div v-if="hasReply" class="status flex form bgcolor-wh border-dash">
              <img :src="['/avatars/original/missing.png' == reply.account.avatar_static ? '/kktjs/img/missing_icon.png' : reply.account.avatar_static]" class="avatar border" v-on:click="runAcct(reply.account.id)">
              <div class="content-before"><div></div></div>
              <div class="content border">
                <div class="status-name flex start">
                  <div class="hidden">
                    <a v-if="0 != reply.account.display_name.length" class="color-pk" v-html="$options.filters.formatEmoji(reply.account.display_name)"></a>
                    <a v-else>{{reply.account.username}}</a>
                    <small class="color-gr">@{{reply.account.acct}}</small>
                  </div>
                  <span class="status-time color-gr"> {{reply.created_at | formatDate}}</span>
                </div>
                <div class="status__content">
                  <span v-html="$options.filters.formatContentS(reply.spoiler_text)"></span>
                  <div v-if="0 != reply.spoiler_text.length && 'opened' != reply.opt_open">
                    <div class="spoller_link color-wh bgcolor-pk" onClick="this.classList.add('invisible');this.nextElementSibling.classList.remove('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index"><small>- SHOW MORE -</small></div>
                    <span v-html="$options.filters.formatContent(reply.content)" class="invisible"></span>
                  </div>
                  <div v-if="0 == reply.spoiler_text.length || 'opened' === reply.opt_open">
                    <span v-html="$options.filters.formatContent(reply.content)"></span>
                  </div>
                </div>
                <div v-if="0 != reply.media_attachments" class="media-wrapper flex">
                  <a v-for="media in reply.media_attachments" @click="modal = media;showModal = true;">
                    <video v-if="'gifv' == media.type && '2' == optAutoPlay" :src="media.url" class="media" playsinline muted autoplay loop></video>
                    <img v-if="('gifv' != media.type || ('gifv' == media.type && '1' == optAutoPlay)) && '/files/small/.preview_url' != media.preview_url" :src="media.preview_url" class="media">
                    <i v-if="'video' == media.type || ('gifv' == media.type && '1' == optAutoPlay)" class="fa fa-fw fa-play-circle-o media-type"></i>
                  </a>
                </div>
                <div v-if="( optAllNsfw || reply.sensitive ) && 0 != reply.media_attachments && 'opened' != reply.opt_open" class="media-wrapper bluesheet" onClick="this.classList.add('invisible');app._data.locals[this.getAttribute('idx')].opt_open = 'opened';" :idx="index">
                  <h4 v-if="reply.sensitive">Sensitive contents</h4>
                  <h4 v-else>Media contents</h4>
                  <small>Click to view</small>
                </div>
                <div class="action-bar flex end">
                  <small :href="reply.url">id:{{reply.id}}</small>
                  <small v-if="'public' != reply.visibility">{{reply.visibility}}</small>
                  <i v-on:click="katsu['in_reply_to_id'] = ''; reply = [];" class="fa fa-fw fa-times"></i>
                </div>
              </div>
            </div>

            <div class="form-wrapper bgcolor-wh">

              <div v-if="showSpoiler" class="form-option border-dash">
                <div class="flex center">
                  <div v-on:click="katsu['spoiler_text'] += '<コンプラ>'" class="color-wh bgcolor button full"><small>コンプラ</small></div>
                  <div v-on:click="katsu['spoiler_text'] += '<ネタバレ>'" class="color-wh bgcolor button full"><small>ネタバレ</small></div>
                  <div v-on:click="katsu['spoiler_text'] += '<R-18>'" class="color-wh bgcolor button full"><small>R-18</small></div>
                </div>
                <div class="flex center">
                  <small class="full text center">とりあえず<br>ダメそうならコレ</small>
                  <small class="full text center">アニメやゲームが<br>まだの人に配慮</small>
                  <small class="full text center">年齢制限が必要な<br>描写を含む内容</small>
                </div>
                <div class="action-bar flex end">
                  <div class="spoiler-left">
                    <i v-if="'' == katsu['spoiler_text']" v-on:click="katsu['spoiler_text'] = katsu['spoiler_text_bu'];" class="fa fa-fw fa-exclamation-triangle color-disable"></i>
                    <i v-else v-on:click="katsu['spoiler_text_bu'] = katsu['spoiler_text']; katsu['spoiler_text'] = '';" class="fa fa-fw fa-exclamation-triangle"></i>

                    <i v-on:click="contentExchange" class="fa fa-fw fa-exchange"></i>
                  </div>
                  <textarea type="text" v-model="katsu['spoiler_text']" :rows="spoilerRows" class="spoiler-input border-lite" placeholder="Content warning" @keyup.(enter.91)="actKatsu(katsu)" @keyup.ctrl.enter="actKatsu(katsu)"></textarea>
                </div>
              </div>

              <div class="flex center border-dash">
                <div class="form-option full">
                  <textarea v-focus type="text" v-model="katsu['content_text']" class="content-input border-lite" :rows="contentRows" placeholder="What is on your mind?" @keyup.(enter.91)="actKatsu(katsu)" @keyup.ctrl.enter="actKatsu(katsu)"></textarea>
                  <span v-if="0 != result_run.length">Error: {{result_run}}</span>
                </div>
              </div>

              <div v-if="showDraft" class="form-option border-dash">
                <div v-if="3 > content_text_drafts.length" class="action-bar flex end draft">
                  <i v-if="0 == contentLength()" class="fa fa-fw fa-floppy-o color-disable"></i>
                  <i v-else v-on:click="contentToDraft()" class="fa fa-fw fa-floppy-o"></i>
                  <span v-if="0 == contentLength()" class="full text center">(下書きに保存)</span>
                  <span v-else v-on:click="contentToDraft" class="full text center">(下書きに保存)</span>
                </div>
                <div v-for="(draft, index) in content_text_drafts" class="action-bar flex end draft">
                  <i v-on:click="draftToContent(index)" class="fa fa-fw fa-arrow-up"></i>
                  <span class="full text center hidden">{{draft}}</span>
                </div>
              </div>

              <div v-if="0 != katsu['media_previews'].length" class="form-option border-dash">
                <div class="media-wrapper flex">
                  <a v-for="(media, index) in katsu['media_previews']" @click="modal = media;showModal = true;">
                    <img v-if="null != katsu['media_attachments'][index] && 'image' == katsu['media_attachments'][index].type" :src="katsu['media_previews'][index].preview_url" class="media">
                    <img v-else-if="'image' == katsu['media_previews'][index].type" :src="media.preview_url" class="media gray">
                    <video v-else-if="null != katsu['media_attachments'][index] && 'video' == katsu['media_attachments'][index].type" :src="katsu['media_previews'][index].preview_url" class="media" playsinline muted autoplay loop></video>
                    <video v-else-if="'video' == katsu['media_previews'][index].type" :src="media.preview_url" class="media gray" playsinline muted autoplay loop></video>
                  </a>
                </div>
                <div class="flex center">
                  <div v-for="(media, index) in katsu['media_previews']" class="full">
                    <div v-if="null != katsu['media_attachments'][index]" v-on:click="katsu['media_previews'].splice(index,1);katsu['media_attachments'].splice(index,1);" class="color-wh bgcolor-pk button"><small>Remove</small></div>
                    <div v-else class="color-wh bgcolor-disable button full"><small>...</small></div>
                  </div>
                </div>
                <div class="flex end action-bar">
                  <span>メディアを隠す(NSFW)</span>
                  <div v-if="true === katsu['sensitive']" v-on:click="katsu['sensitive'] = false;" class="button color-wh bgcolor-pk">ON</div>
                  <div v-else v-on:click="katsu['sensitive'] = true;" class="button color-wh bgcolor">OFF</div>
                </div>
              </div>

              <div v-if="showVisible" class="form-option border-dash">
                <div class="flex center">
                  <div v-on:click="katsu['visibility'] = 'public';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'unlisted' != katsu['visibility'] && 'private' != katsu['visibility'] && 'direct' != katsu['visibility'] }"><i class="fa fa-fw fa-globe"></i><small>public</small></div>
                  <div v-on:click="katsu['visibility'] = 'unlisted';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'unlisted' == katsu['visibility'] }"><i class="fa fa-fw fa-unlock-alt"></i><small>unlist</small></div>
                  <div v-on:click="katsu['visibility'] = 'private';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'private' == katsu['visibility'] }"><i class="fa fa-fw fa-lock"></i><small>private</small></div>
                  <div v-on:click="katsu['visibility'] = 'direct';" class="color-wh bgcolor button tall full flex wrap" :class="{ 'bgcolor-pk': 'direct' == katsu['visibility'] }"><i class="fa fa-fw fa-envelope"></i><small>direct</small></div>
                </div>
                <div class="flex center">
                  <small class="full text center">全体に公開</small>
                  <small class="full text center">ローカルTLに<br>流さない</small>
                  <small class="full text center">フォロワー<br>だけに公開</small>
                  <small class="full text center">宛先の人<br>だけに公開</small>
                </div>
              </div>

              <input type="file" name="file" id="uploader" class="invisible" onchange="preview(this)">

              <div class="action-bar flex wrap form-option border-dash">
                <div class="color bgcolor-in">
                  <label v-if="4 > katsu['media_previews'].length" for="uploader"><i class="fa fa-fw fa-camera"></i></label>
                  <i v-else class="fa fa-fw fa-camera color-disable"></i>
                  <i class="fa fa-fw fa-smile-o"  @click="showEmojiPicker = true; popEmoji();"></i>
                  <i v-on:click="toggleDraft()" class="fa fa-fw fa-th-list"></i>
                  <i v-if="'direct' == katsu['visibility']" v-on:click="toggleVisible()" class="fa fa-fw fa-envelope"></i>
                  <i v-else-if="'private' == katsu['visibility']" v-on:click="toggleVisible()" class="fa fa-fw fa-lock"></i>
                  <i v-else-if="'unlisted' == visible" v-on:click="toggleVisible()" class="fa fa-fw fa-unlock-alt"></i>
                  <i v-else v-on:click="toggleVisible()" class="fa fa-fw fa-globe"></i>
                  <i v-on:click="toggleSpoiler()" class="fa fa-fw fa-exclamation-triangle"></i>
                </div>
                <div class="flex end katsu-ctrl">
                  <div class="katsu-count">{{500 - spoilerLength() - contentLength()}}</div>
                  <div v-if="katsuCheck()" v-on:click="actKatsu(katsu)" class="color-wh bgcolor-gr button">KATSU!</div>
                  <div v-else class="color-wh bgcolor-disable button">KATSU!</div>
                </div>
              </div>

              <div class="action-bar form-option border-dash">
                <div class="flex end action-bar">
                  <span>🔥 お知らせ 🔥</span>
                  <small>20170729(v1.0 beta)</small>
                </div>
                <span>ついに、カツ!機能を追加したよ。</span><br>
                <span>画像/動画のアップロードは、</span><br>
                <span>サイズが8MB未満の対応したファイルを用意してね。</span><br>
              </div>

            </div>
          </div>
        </div>
        <!-- SETTING -->
        <div v-if="showSetting" class ="column scrollable bgcolor-wh fixed">
          <div class="status-list">
            <div class="setting-wrapper">

                <h3 class="setting-header">📛📛📛 WebApp Setting 📛📛📛</h3>
                <h3 class=""><i class="fa fa-fw fa-wrench"></i> Layout: 端末を選んでカラム数を決めてね</h3>
                <div class="flex end action-bar"><span>{{ optColumns }} Column(s) </span></div>
                <div class="flex end action-bar">
                  <input type="radio" class="invisible" id="cone" value="1" v-model="optColumns">
                  <input type="radio" class="invisible" id="ctwo" value="2" v-model="optColumns">
                  <input type="radio" class="invisible" id="cthree" value="3" v-model="optColumns">
                  <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optColumns }" for="cone">Mobile</label>
                  <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optColumns }" for="ctwo">Tablet</label>
                  <label class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 3 == optColumns }" for="cthree">PC</label>
                </div>

                <div class="flex end action-bar"><span>Primary Timeline: {{ optPtl }}</span></div>
                <div class="flex end action-bar">
                  <input type="radio" class="invisible" id="tone" value="1" v-model="optPtl">
                  <input type="radio" class="invisible" id="ttwo" value="2" v-model="optPtl">
                  <!-- <input type="radio" class="invisible" id="tthree" value="3" v-model="optPtl"> -->
                  <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optPtl }" for="tone">local</label>
                  <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optPtl }" for="ttwo">home</label>
                  <label class="button color-wh bgcolor-disable" for="">federated</label>
                </div>

                <div class="flex end action-bar">
                  <span>WideColumn Mode(PC) (alpha)</span>
                  <input type="checkbox" id="checkwide" class="invisible" v-model="optColumnWide">
                  <label v-if="optColumnWide" for="checkwide" class="button color-wh bgcolor-pk">ON</label>
                  <label v-else for="checkwide" class="button color-wh bgcolor">OFF</label>
                </div>

                <h3 class=""><i class="fa fa-fw fa-photo"></i> View: 表示をアレンジしちゃおう </h3>
                <div class="flex end action-bar">
                <span>Media AutoPlay</span>
                  <input type="radio" class="invisible" id="vone" value="1" v-model="optAutoPlay">
                  <input type="radio" class="invisible" id="vtwo" value="2" v-model="optAutoPlay">
                  <!-- <input type="radio" class="invisible" id="vthree" value="3" v-model="optAutoPlay"> -->
                  <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optAutoPlay }" for="vone">OFF</label>
                  <label class="button color-wh bgcolor" :class="{ 'bgcolor-pk': 2 == optAutoPlay }" for="vtwo">GIF</label>
                  <label class="button color-wh bgcolor-disable" for="">ALL</label>
                </div>

                <div class="flex end action-bar">
                  <span>Media AllNSFW Mode(TL)</span>
                  <input type="checkbox" id="checknsfw" class="invisible" v-model="optAllNsfw">
                  <label v-if="optAllNsfw" for="checknsfw" class="button color-wh bgcolor-pk">ON</label>
                  <label v-else for="checknsfw" class="button color-wh bgcolor">OFF</label>
                </div>

                <h3 class=""><i class="fa fa-fw fa-check-square-o"></i> Confirm: 確認ウィンドウの設定をしてね </h3>
                <div class="flex end action-bar">
                  <small v-on:click="optConfirm['fav'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['fav'] }">Fav</small>
                  <small v-on:click="optConfirm['unfav'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unfav'] }">UnFav</small>
                  <small v-on:click="optConfirm['reblog'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['reblog'] }">Boost</small>
                  <small v-on:click="optConfirm['unreblog'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unreblog'] }">UnBoost</small>
                </div>
                <div class="flex end action-bar">
                  <small v-on:click="optConfirm['katsu'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['katsu'] }">Katsu!</small>
                  <small v-on:click="optConfirm['delete'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['delete'] }">Delete</small>
                  <small v-on:click="optConfirm['follow'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['follow'] }">Follow</small>
                  <small v-on:click="optConfirm['unfollow'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unfollow'] }">Remove</small>
                </div>
                <div class="flex end action-bar">
                  <small v-on:click="optConfirm['mute'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['mute'] }">Mute</small>
                  <small v-on:click="optConfirm['unmute'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unmute'] }">UnMute</small>
                  <small v-on:click="optConfirm['block'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['block'] }">Block</small>
                  <small v-on:click="optConfirm['unblock'] ^= 1" class="button full color-wh bgcolor" :class="{ 'bgcolor-pk': 1 == optConfirm['unblock'] }">UnBlock</small>
                </div>

                <h3 class=""><i class="fa fa-fw fa-paint-brush"></i> Theme: 見た目のカスタマイズができるよ </h3>
                <div class="flex end action-bar">
                  <span>Tops, Shoes</span>
                  <span><i class="fa fa-fw fa-lock"></i></span>
                  <label class="button color-wh bgcolor">Magenta Diamond</label>
                </div>
                <div class="flex end action-bar">
                  <span>Bottoms</span>
                  <span><i class="fa fa-fw fa-lock"></i></span>
                  <label class="button color-wh bgcolor">Green Diamond</label>
                </div>

                <h3 class=""><i class="fa fa-fw fa-music"></i> Sound: PUSH通知(PC)の通知音を選んでね </h3>
                <div class="flex end action-bar">
                  <span></span>
                  <span><i class="fa fa-fw fa-lock"></i></span>
                  <label class="button color-wh bgcolor" v-on:click="playSound">Mastodon Boop</label>
                  <label class="button color-wh bgcolor-disable">Excellent</label>
                </div>

                <div class="flex end action-bar">
                  <label v-on:click="runSetting" class="button full main color-wh bgcolor-gr">Save</label>
                </div>

                <div class="flex end action-bar">
                  <label v-on:click="runReset" class="button full color-wh bgcolor">Reset</label>
                  <label v-on:click="runClear" class="button full color-wh bgcolor-pk">Setting Delete</label>
                </div>

                <h3 class="setting-header">📛📛📛 Account Setting 📛📛📛</h3>
                <div class="flex end action-bar">
                  <span>User Profile</span>
                  <label v-on:click="runProfile" class="button color-wh bgcolor-gr">Open kkt</label>
                </div>

                <div class="flex end action-bar ">
                  <label v-on:click="runLogout" class="button full main color-wh bgcolor-pk">Logout</label>
                </div>

              <span></span><br>
              <h3 class="setting-header">🍨🍨🍨 アプリ推奨環境 🍨🍨🍨</h3>
                <small>
                  Windows vivaldi/chrome/firefox<br>
                  macOS chrome/firefox/safari<br>
                  Android(4.4以上) chrome58+WebApp化(ホーム画面に追加)<br>
                  iOS(10以上) safari+WebApp化(ホーム画面に追加)<br>
                </small><br>
                <h4>Androidで表示がおかしい時は、chromeを更新してみて</h4>
                <h4>バグは <span v-on:click="search_tag='kktjs';runHash()" class="color-pk">#kktjs</span> を付けてカツ!してくれると嬉しいかな。</h4>
                <h4>私(<span v-on:click="runAcct(17)" class="color-pk">@sumire</span>)に直接送ってくれても大丈夫だよ。</h4>
              <h3 class="setting-header">🍨🍨🍨 開発ステータス 🍨🍨🍨</h3>

              <h3>アプリで使える機能(v0.0)</h3>
              <small>
                ログイン/ログアウト/Webアプリ設定<br>
                カツ!機能(メディア投稿,CW,NSFW,絵文字入力)<br>
                Home/Local/通知 TLのカツ!ストリーミング受信/削除<br>
                Home/Local/通知/Fav済/ユーザー/タグ のカツ!一覧取得<br>
                Home/Local のカツ!一覧を遡って取得<br>
                ユーザー情報/フォロー情報/カツ!詳細(+OGP展開) 取得<br>
                ユーザーのフォロー/フォロワー一覧 取得<br>
                カツ!詳細のお気に入り/ブーストしたアカウント一覧 取得<br>
                検索した結果(アカウント/タグ/カツの一覧) 取得<br>
                お気に入り/ブースト/フォロー の登録と解除<br>
                カツ!/お気に入り/ブースト/フォロー の確認ウィンドウ<br>
                ミュート/ブロック の登録と解除、確認ウィンドウ<br>
                カツ!の CW/NSFW, 画像/ビデオ/gifv(ループ再生) 表示<br>
                カツ!の 削除<br>
                ヘッダアイコンでカラム切替機能<br>
                PUSH通知(PC)と、通知音再生(PC)<br>
                カツ!の メンション/ハッシュタグ/カツURL を開く<br>
              </small><br>
              <h3>拡張機能(v0.0)</h3>
              <small>
                1-3カラム表示+切替機能<br>
                カツ!の 下書き保存、CWと本文の入れ替え<br>
                アカウントにリプを送るとき、デフォルトをunlistに変更<br>
                カツ!一覧のスクロールを廃止して、ページ化(遷移方法は暫定)<br>
                Local TLにしおりをはさむ機能(削除カツ未対応)<br>
                カツ!詳細/ユーザー情報 リンクのボタン化<br>
                フォロー/フォロワー一覧 をユーザー情報内で表示<br>
                Home/Local TLの画像や映像を全て隠すオプション<br>
                nametag の 📛 tofu on fire 📛 化 (EmojiOne加工)<br>
                ヘッダに お気に入り、Webアプリ設定アイコン追加<br>
              </small><br>
              <h3>アプリにまだない機能(v0.0)</h3>
              <small>
                Home TLの正規表現フィルタ<br>
                通知/Fav済/ユーザー/タグ のカツ!一覧を遡って取得<br>
                フォロー/フォロワー のアカウント一覧を遡って取得<br>
                連合TLの 取得<br>
                カツ!の 通報<br>
                ストリーミング再接続のカツ!漏れ確認<br>
                Youtube動画の展開<br>
                通信エラーの表示<br>
              </small><br>
              <h3>追加されるかもしれない拡張機能</h3>
              <small>
                テーマ機能(ナイトテーマ追加)<br>
                PUSH通知(Android/iOS11?12?)<br>
                カツ!を 翻訳<br>
                カツ!機能の 入力ショートカット(タグや定型文を登録可能)<br>
                通知 TLのインスタンスフィルター<br>
                HOME/Local TLの特定ワードを含むカツ!をNSFWで包む機能<br>
                カツ!した当時のLocal TLへタイムスリップする機能<br>
                通信エラーメッセージ<br>
                ワード検索機能(Mastodon API未実装)<br>
              </small>

            </div>
          </div>
        </div>
      </div>

      <div class="app-footer bgsvg-pk">
        <button id="sound" class="invisible"></button>
        <small class="invisible">Refresh: {{dummy}}</small>
      </div>

    </div><!-- Vue Root -->
  </body>
</html>

<!-- <script src="js/vue233.js"></script> -->
<script src="js/vue.min.js"></script>

<script src="js/addtohomescreen.min.js"></script>
<script src="js/inobounce.min.js"></script>
<script src="js/emojione.js"></script>

<script src="js/main.js"></script>
<script src="js/picker.js"></script>